<div *ngIf="displayContent" class="flex justify-center items-center h-screen bg-gray-50">
    <!-- Loader en cours -->
    <div *ngIf="loading" class="text-center flex flex-column justify-center w-full">
        <p class="text-lg font-semibold text-gray-700 mb-4">Vérification en cours...</p>
        <div class="w-12 h-12 border-4 border-blue-500 border-t-transparent rounded-full animate-spin"></div>
    </div>

    <!-- Message d'erreur -->
    <div *ngIf="!loading && error" class="bg-white shadow-lg rounded-lg p-6 flex flex-column justify-center w-full text-center border border-red-500">
        <h2 class="text-2xl font-bold text-red-600 mb-2">Token invalide ou expiré</h2>
        <p class="text-gray-700">Nous n'avons pas pu valider votre lien. Veuillez vérifier votre email ou demander un nouveau lien.</p>
        <button class="mt-4 px-6 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition"
        (click)="retry()">Renvoyer un nouveau lien</button>
    </div>
</div>

<p-dialog
  [(visible)]="displayModal"
  [closable]="true"
  [modal]="true"
  [style]="{ width: '50vw' }"
  header="Réinitialisation de mot de passe"
  class="rounded-lg shadow-lg"
>
  <ng-container>
    <div class="text-center">
      <p class="text-gray-700 mb-4">
        Un lien de réinitialisation du mot de passe a été envoyé à
        <strong>{{ email }}</strong>. Le lien est valide pendant
        <strong>15 minutes</strong>.
      </p>
      <button
        (click)="closeModal()"
        class="btn btn-success mt-2 w-full bg-green-500 text-white py-2 px-4 rounded-lg font-medium hover:bg-green-600 transition"
      >
        OK
      </button>
    </div>
  </ng-container>
</p-dialog>