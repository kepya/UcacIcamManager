"use strict";(self.webpackChunkadmin_ucac_dashboard=self.webpackChunkadmin_ucac_dashboard||[]).push([[181],{5119:(I,b,a)=>{a.d(b,{T:()=>v});var i=a(2340),m=a(7587),g=a(520),t=a(4920);let v=(()=>{class o{constructor(e,h){this.http=e,this.baseUrlSvr=h,this.url="",this.url=`${this.baseUrlSvr.getOrigin()}${i.N.administrationPath}`,this.url+="centre_examen/"}liste(){return this.http.get(this.url+"all")}allByZone(e){return this.http.get(this.url+"allbyzone/"+e)}allBySite(e){return this.http.get(this.url+"allbysite/"+e)}getOne(e){return this.http.get(this.url+e)}create(e){return this.http.post(this.url+"create",e)}update(e){return this.http.patch(this.url+(null==e?void 0:e.id),e)}delete(e){return this.http.delete(this.url+e)}}return o.\u0275fac=function(e){return new(e||o)(m.LFG(g.eN),m.LFG(t.x))},o.\u0275prov=m.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})()},4181:(I,b,a)=>{a.r(b),a.d(b,{GestionDisponibiliteModule:()=>R});var i=a(9808),m=a(7671),g=a(5193),t=a(7587),v=a(5119),o=a(1303),d=a(7755),e=a(62),h=a(9783),D=a(7212),Z=a(7921),T=a(2382),M=a(7773),O=a(7307);function y(c,C){1&c&&(t.TgZ(0,"button",30),t._uU(1," Choisir les p\xe9riodes de disponibilit\xe9s "),t.qZA())}function u(c,C){if(1&c){const r=t.EpF();t.TgZ(0,"i",31),t.NdJ("click",function(){return t.CHM(r),t.oxw().searchValue=""}),t.qZA()}}function E(c,C){if(1&c){const r=t.EpF();t.TgZ(0,"tr")(1,"td"),t._uU(2),t.ALo(3,"date"),t.qZA(),t.TgZ(4,"td"),t._uU(5),t.qZA(),t.TgZ(6,"td"),t._uU(7),t.qZA(),t.TgZ(8,"td"),t._uU(9),t.qZA(),t.TgZ(10,"td"),t._uU(11),t.qZA(),t.TgZ(12,"td")(13,"button",32),t.NdJ("click",function(s){const L=t.CHM(r).$implicit;return t.oxw().confirm(s,L.id||0)}),t.TgZ(14,"div"),t._UZ(15,"i",33),t.qZA(),t.TgZ(16,"span"),t._uU(17," Supprimer "),t.qZA()()()()}if(2&c){const r=C.$implicit;t.xp6(2),t.Oqu(t.lcZ(3,5,null==r.disponibilite?null:r.disponibilite.date_disponibilite)),t.xp6(3),t.Oqu(null==r.disponibilite?null:r.disponibilite.debut_disponibilite),t.xp6(2),t.Oqu(null==r.disponibilite?null:r.disponibilite.fin_disponibilite),t.xp6(2),t.Oqu(null==r.compte?null:r.compte.name),t.xp6(2),t.Oqu(null==r.compte?null:r.compte.prenom)}}function l(c,C){1&c&&(t.TgZ(0,"tr")(1,"td",34)(2,"span",35),t._uU(3," Aucune disponibilit\xe9s trouv\xe9es avec ces lettres dans son nom "),t.qZA()()())}function _(c,C){1&c&&(t.TgZ(0,"tr")(1,"td",34)(2,"span",35),t._uU(3," Aucune disponibilit\xe9s presentent dans la base "),t.qZA()()())}function f(c,C){if(1&c){const r=t.EpF();t.TgZ(0,"li",36)(1,"a",37),t.NdJ("click",function(){return t.CHM(r),t.oxw().previous()}),t._uU(2,"Pr\xe9cedent"),t.qZA()()}}function P(c,C){if(1&c){const r=t.EpF();t.TgZ(0,"li",38)(1,"a",39),t.NdJ("click",function(){return t.CHM(r),t.oxw().next()}),t._uU(2,"Suivant"),t.qZA()()}}const S=function(c){return{bold:c}},A=[{path:"",component:(()=>{class c{constructor(r,n,s,p,L,x,G,w,F){this.centreSrv=r,this.storageService=n,this.zoneService=s,this.commonSrv=p,this.messageService=L,this.confirmationService=x,this.compteDisponibiliteService=G,this.commonService=w,this.sessionSrv=F,this.loading=!1,this.disponibilities=[],this.searchDisponibilities=[]}ngOnInit(){this.sortProperty="centre",this.sortIcon="fa-solid fa-arrow-down-short-wide",this.downUpIcon="pi pi-sort-alt",this.pageSize=10,this.page=1,this.getCompteDisponibilite(),this.compte=this.storageService.getUserConnected()}handlePageSize(r){this.page=1,this.getCompteDisponibilite()}getCompteDisponibilite(){this.compteDisponibiliteService.liste().subscribe({next:r=>{this.totalElement=r.length,r=r.map(n=>{var s;return{id:null!==(s=n.id)&&void 0!==s?s:0,compteId:n.compteId,disponibilite_id:n.disponibilite_id,compte:n.compte,disponibilite:{id:n.disponibilite.id,sessionid:n.disponibilite.sessionid,date_disponibilite:new Date(n.disponibilite.date_disponibilite.toString()),debut_disponibilite:n.disponibilite.debut_disponibilite,fin_disponibilite:n.disponibilite.fin_disponibilite}}}),this.compte.role==g.u.JURY&&(r=r.filter(n=>{var s,p;return(null===(s=n.compte)||void 0===s?void 0:s.name)==this.compte.name&&(null===(p=n.compte)||void 0===p?void 0:p.prenom)==this.compte.prenom})),this.searchDisponibilities=r,r=this.sort("nom",r),this.disponibilities=r.map((n,s)=>Object.assign({},n)).slice((this.page-1)*this.pageSize,(this.page-1)*this.pageSize+this.pageSize),this.collectionSize=r.length,this.nbrOfPage=Math.ceil(r.length/this.pageSize)},error:r=>{console.log("error: ",r)}})}sort(r,n=this.disponibilities){return this.sortProperty=r,this.isAsc=!this.isAsc,this.sortIcon=this.isAsc?"fa-solid fa-arrow-down-short-wide":"fa-solid fa-arrow-down-wide-short","nom"===r&&n.sort(this.isAsc?(s,p)=>s.compte.name>p.compte.name?1:p.compte.name>s.compte.name?-1:0:(s,p)=>s.compte.name>p.compte.name?-1:p.compte.name>s.compte.name?1:0),"prenom"===r&&n.sort(this.isAsc?(s,p)=>s.compte.prenom>p.compte.prenom?1:p.compte.prenom>s.compte.prenom?-1:0:(s,p)=>s.compte.prenom>p.compte.prenom?-1:p.compte.prenom>s.compte.prenom?1:0),"date_disponibilite"===r&&n.sort(this.isAsc?(s,p)=>s.disponibilite.date_disponibilite>p.disponibilite.date_disponibilite?1:p.disponibilite.date_disponibilite>s.disponibilite.date_disponibilite?-1:0:(s,p)=>s.disponibilite.date_disponibilite>p.disponibilite.date_disponibilite?-1:p.disponibilite.date_disponibilite>s.disponibilite.date_disponibilite?1:0),"debut_disponibilite"===r&&n.sort(this.isAsc?(s,p)=>s.disponibilite.debut_disponibilite>p.disponibilite.debut_disponibilite?1:p.disponibilite.debut_disponibilite>s.disponibilite.debut_disponibilite?-1:0:(s,p)=>s.disponibilite.debut_disponibilite>p.disponibilite.debut_disponibilite?-1:p.disponibilite.debut_disponibilite>s.disponibilite.debut_disponibilite?1:0),"fin_disponibilite"===r&&n.sort(this.isAsc?(s,p)=>s.disponibilite.fin_disponibilite>p.disponibilite.fin_disponibilite?1:p.disponibilite.fin_disponibilite>s.disponibilite.fin_disponibilite?-1:0:(s,p)=>s.disponibilite.fin_disponibilite>p.disponibilite.fin_disponibilite?-1:p.disponibilite.fin_disponibilite>s.disponibilite.fin_disponibilite?1:0),n}handleSearchValue(r){if(this.searchValue=r.target.value,""!==this.searchValue){let n=this.searchDisponibilities.filter(s=>s.compte.name.toLowerCase().indexOf(this.searchValue.toLowerCase())>-1||s.compte.prenom.indexOf(this.searchValue)>-1);this.disponibilities=n}else this.disponibilities=this.searchDisponibilities}next(){this.page++,this.getCompteDisponibilite()}previous(){this.page--,this.getCompteDisponibilite()}confirm(r,n){this.confirmationService.confirm({target:r.target,message:"\xcates vous sures de vouloir continuer ?",icon:"pi pi-question",acceptLabel:"Oui",rejectLabel:"Non",accept:()=>{this.deleteCompteDisponibilite(n)},reject:()=>{this.messageService.add({severity:"error",summary:"Non",detail:"vous avez annul\xe9 la suppresion"})}})}deleteCompteDisponibilite(r){this.compteDisponibiliteService.delete(r||0).subscribe({next:n=>{this.getCompteDisponibilite(),this.messageService.add({severity:"success",summary:"Suppression de la disponibilit\xe9 de l'intervenant",detail:"Suppression effectu\xe9e avec success"})},error:n=>{console.log("Error: ",n),this.messageService.add({severity:"error",summary:"Erreur de suppression",detail:n.message})}})}}return c.\u0275fac=function(r){return new(r||c)(t.Y36(v.T),t.Y36(o.V),t.Y36(d.b),t.Y36(e.v),t.Y36(h.ez),t.Y36(h.YP),t.Y36(D.R),t.Y36(e.v),t.Y36(Z.K))},c.\u0275cmp=t.Xpm({type:c,selectors:[["app-gestion-disponibilite"]],decls:73,vars:43,consts:[[1,"compte-page","page-content"],[1,"page-title"],[1,"pi","pi-angle-right"],[1,"card"],[1,"header"],[1,"title"],["class","btn btn-primary","routerLink","/intervenant_entretiens",4,"ngIf"],[1,"line"],[1,"table-content"],[1,"search-content"],[1,"select-page-size"],["name","page-size","id","page-size",3,"ngModel","change","ngModelChange"],["value","10"],["value","25"],["value","50"],["value","100"],[1,"search_value"],["type","text","name","value","id","value",3,"ngModel","ngModelChange","keyup"],["class","fa fa-close pull-right",3,"click",4,"ngIf"],[1,"row"],["id","table"],[3,"ngClass","click"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"pagination_content"],[1,"pagination"],["class","paginate_button previous disabled","id","datatable-responsive_previous",4,"ngIf"],[1,"paginate_button","active"],["aria-controls","datatable-responsive","data-dt-idx","1","tabindex","0"],["class","paginate_button next disabled","id","datatable-responsive_next",4,"ngIf"],["routerLink","/intervenant_entretiens",1,"btn","btn-primary"],[1,"fa","fa-close","pull-right",3,"click"],[1,"btn","mt-2",3,"click"],[1,"fa-solid","fa-trash"],["colspan","6"],[1,"vh-center"],["id","datatable-responsive_previous",1,"paginate_button","previous","disabled"],["aria-controls","datatable-responsive","data-dt-idx","0","tabindex","0",3,"click"],["id","datatable-responsive_next",1,"paginate_button","next","disabled"],["aria-controls","datatable-responsive","data-dt-idx","2","tabindex","0",3,"click"]],template:function(r,n){1&r&&(t.TgZ(0,"section",0)(1,"h1",1),t._uU(2," Entretiens "),t._UZ(3,"i",2),t._uU(4," Gestion des entretiens"),t.qZA(),t.TgZ(5,"div",3)(6,"div",4)(7,"h3",5),t._uU(8,"Liste des entretiens "),t.qZA(),t.YNc(9,y,2,0,"button",6),t.qZA(),t._UZ(10,"div",7),t.TgZ(11,"div",8)(12,"div",9)(13,"div",10)(14,"span"),t._uU(15,"Voir"),t.qZA(),t.TgZ(16,"select",11),t.NdJ("change",function(p){return n.handlePageSize(p)})("ngModelChange",function(p){return n.pageSize=p}),t.TgZ(17,"option",12),t._uU(18,"10"),t.qZA(),t.TgZ(19,"option",13),t._uU(20,"25"),t.qZA(),t.TgZ(21,"option",14),t._uU(22,"50"),t.qZA(),t.TgZ(23,"option",15),t._uU(24,"100"),t.qZA()(),t.TgZ(25,"span"),t._uU(26,"entr\xe9es"),t.qZA()(),t.TgZ(27,"div",16)(28,"span"),t._uU(29,"Rechercher"),t.qZA(),t.TgZ(30,"div")(31,"input",17),t.NdJ("ngModelChange",function(p){return n.searchValue=p})("keyup",function(p){return n.handleSearchValue(p)}),t.qZA(),t.YNc(32,u,1,0,"i",18),t.qZA()()(),t.TgZ(33,"div",19)(34,"table",20)(35,"tr")(36,"th")(37,"div"),t._uU(38," Jour d'entretien "),t.TgZ(39,"i",21),t.NdJ("click",function(){return n.sort("date_disponibilite")}),t.qZA()()(),t.TgZ(40,"th")(41,"div"),t._uU(42," Heure de debut d'entretien "),t.TgZ(43,"i",21),t.NdJ("click",function(){return n.sort("debut_disponibilite")}),t.qZA()()(),t.TgZ(44,"th")(45,"div"),t._uU(46," Heure de fin d'entretien "),t.TgZ(47,"i",21),t.NdJ("click",function(){return n.sort("fin_disponibilite")}),t.qZA()()(),t.TgZ(48,"th")(49,"div"),t._uU(50," Nom "),t.TgZ(51,"i",21),t.NdJ("click",function(){return n.sort("nom")}),t.qZA()()(),t.TgZ(52,"th")(53,"div"),t._uU(54," Prenom "),t.TgZ(55,"i",21),t.NdJ("click",function(){return n.sort("prenom")}),t.qZA()()(),t.TgZ(56,"th")(57,"div"),t._uU(58," # "),t.qZA()()(),t.YNc(59,E,18,7,"tr",22),t.YNc(60,l,4,0,"tr",23),t.YNc(61,_,4,0,"tr",23),t.qZA()(),t.TgZ(62,"div",24)(63,"span"),t._uU(64),t.qZA(),t.TgZ(65,"ul",25),t.YNc(66,f,3,0,"li",26),t.TgZ(67,"li",27)(68,"a",28),t._uU(69,"1"),t.qZA()(),t.YNc(70,P,3,0,"li",29),t.qZA()()()()(),t._UZ(71,"p-toast")(72,"p-confirmPopup")),2&r&&(t.xp6(9),t.Q6J("ngIf","JURY"==n.compte.role),t.xp6(7),t.Q6J("ngModel",n.pageSize),t.xp6(15),t.Q6J("ngModel",n.searchValue),t.xp6(1),t.Q6J("ngIf",n.searchValue),t.xp6(7),t.Gre("icon-sort ","date_disponibilite"==n.sortProperty?n.sortIcon:n.downUpIcon,""),t.Q6J("ngClass",t.VKq(33,S,"date_disponibilite"==n.sortProperty)),t.xp6(4),t.Gre("icon-sort ","debut_disponibilite"==n.sortProperty?n.sortIcon:n.downUpIcon,""),t.Q6J("ngClass",t.VKq(35,S,"debut_disponibilite"==n.sortProperty)),t.xp6(4),t.Gre("icon-sort ","fin_disponibilite"==n.sortProperty?n.sortIcon:n.downUpIcon,""),t.Q6J("ngClass",t.VKq(37,S,"fin_disponibilite"==n.sortProperty)),t.xp6(4),t.Gre("icon-sort ","nom"==n.sortProperty?n.sortIcon:n.downUpIcon,""),t.Q6J("ngClass",t.VKq(39,S,"nom"==n.sortProperty)),t.xp6(4),t.Gre("icon-sort ","prenom"==n.sortProperty?n.sortIcon:n.downUpIcon,""),t.Q6J("ngClass",t.VKq(41,S,"prenom"==n.sortProperty)),t.xp6(4),t.Q6J("ngForOf",n.disponibilities),t.xp6(1),t.Q6J("ngIf",n.searchValue&&0===n.disponibilities.length),t.xp6(1),t.Q6J("ngIf",!n.searchValue&&0===n.disponibilities.length),t.xp6(3),t.HOy("Page ",n.page," sur ",n.nbrOfPage,", avec ",n.disponibilities.length," entr\xe9es affich\xe9es, ",n.totalElement," \xe9l\xe9ments au total"),t.xp6(2),t.Q6J("ngIf",n.page>1),t.xp6(4),t.Q6J("ngIf",n.page<n.nbrOfPage))},directives:[i.O5,m.rH,T.EJ,T.JJ,T.On,T.YN,T.Kr,T.Fj,i.mk,i.sg,M.FN,O.P],pipes:[i.uU],encapsulation:2}),c})()}];let J=(()=>{class c{}return c.\u0275fac=function(r){return new(r||c)},c.\u0275mod=t.oAB({type:c}),c.\u0275inj=t.cJS({imports:[[m.Bz.forChild(A)],m.Bz]}),c})();var B=a(845);let R=(()=>{class c{}return c.\u0275fac=function(r){return new(r||c)},c.\u0275mod=t.oAB({type:c}),c.\u0275inj=t.cJS({imports:[[i.ez,J,M.EV,O.n,B.hJ,h.m8,T.u5]]}),c})()},7921:(I,b,a)=>{a.d(b,{K:()=>v});var i=a(2340),m=a(7587),g=a(520),t=a(4920);let v=(()=>{class o{constructor(e,h){this.http=e,this.baseUrlSvr=h,this.url="",this.url=`${this.baseUrlSvr.getOrigin()}${i.N.administrationPath}`,this.url+="session/"}liste(){return this.http.get(this.url+"all")}getOne(e){return this.http.get(this.url+e)}getActive(){return this.http.get(this.url+"active")}getNext(){return this.http.get(this.url+"next")}create(e){return this.http.post(this.url+"create",e)}update(e){return this.http.patch(this.url+(null==e?void 0:e.id),e)}updateForEntretien(e){return this.http.patch(this.url+"date_entretiens/"+(null==e?void 0:e.id),e)}delete(e){return this.http.delete(this.url+e)}}return o.\u0275fac=function(e){return new(e||o)(m.LFG(g.eN),m.LFG(t.x))},o.\u0275prov=m.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})()},62:(I,b,a)=>{a.d(b,{v:()=>g});var i=a(9808),m=a(7587);let g=(()=>{class t{constructor(){}calculerJours(o,d){var e=Math.abs(d-o);return Math.floor(e/864e5)}getFormationLabel(o){return"Ing\xe9nieur g\xe9n\xe9raliste parcours international"==o?"OP":"Ing\xe9nieur g\xe9n\xe9raliste par apprentissage ou g\xe9nie des proc\xe9d\xe9s"==o?"L":"Ing\xe9nieur genie des proc\xe9d\xe9s"==o?"IP":"Ing\xe9nieur g\xe9neraliste parcours international et innovation"==o?"I":"Ing\xe9nieur g\xe9nie Informtique"==o?"X":""}genererDates(o,d){let e=this.calculerJours(o,d);console.log("nombre jour:",e);let h=[],D=new Date(o);h.push(new Date(o));for(let Z=0;Z<e;Z++)D.setDate(D.getDate()+1),h.push(new Date(D));return h}formatDate(o){let e=(0,i.p6)(o,"shortTime","fr-FR").split(":");return e[0]+"h"+e[1]}buildDateWithTime(o){const d=new Date;return new Date(`${d.getFullYear()}-${d.getMonth()+1}-${d.getDate()} ${o}`)}buildDate(o,d){let h,D,e=d.split("-"),T=e[0].split("h");o.setHours(parseInt(T[0],10)),o.setMinutes(parseInt(T[1],10)),h=o.getTime();let O=e[1].split("h");return o.setHours(parseInt(O[0],10)),o.setMinutes(parseInt(O[1],10)),D=o.getTime(),{startDate:h,endDate:D}}}return t.\u0275fac=function(o){return new(o||t)},t.\u0275prov=m.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},7212:(I,b,a)=>{a.d(b,{R:()=>v});var i=a(2340),m=a(7587),g=a(520),t=a(4920);let v=(()=>{class o{constructor(e,h){this.http=e,this.baseUrlSvr=h,this.url="",this.url=`${this.baseUrlSvr.getOrigin()}${i.N.interviewPath}`,this.url+="comptedisponibilite/"}liste(){return this.http.get(this.url+"all")}allBySession(e){return this.http.get(this.url+"bysession/"+e)}getOne(e){return this.http.get(this.url+e)}create(e){return this.http.post(this.url+"create",e)}update(e){return this.http.patch(this.url+(null==e?void 0:e.id),e)}delete(e){return this.http.delete(this.url+e)}}return o.\u0275fac=function(e){return new(e||o)(m.LFG(g.eN),m.LFG(t.x))},o.\u0275prov=m.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})()},7755:(I,b,a)=>{a.d(b,{b:()=>v});var i=a(2340),m=a(7587),g=a(520),t=a(4920);let v=(()=>{class o{constructor(e,h){this.http=e,this.baseUrlSvr=h,this.url="",this.url=`${this.baseUrlSvr.getOrigin()}${i.N.administrationPath}`,this.url+="zone/"}liste(){return this.http.get(this.url+"all")}getOne(e){return this.http.get(this.url+e)}create(e){return this.http.post(this.url+"create",e)}update(e){return this.http.patch(this.url+(null==e?void 0:e.id),e)}delete(e){return this.http.delete(this.url+e)}}return o.\u0275fac=function(e){return new(e||o)(m.LFG(g.eN),m.LFG(t.x))},o.\u0275prov=m.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})()},7307:(I,b,a)=>{a.d(b,{P:()=>O,n:()=>y});var i=a(7587),m=a(9808),g=a(9783),t=a(845),v=a(5921),o=a(1777),d=a(5730);function e(u,E){if(1&u&&i._UZ(0,"i",8),2&u){const l=i.oxw(2);i.Tol(l.confirmation.icon),i.Q6J("ngClass","p-confirm-popup-icon")}}function h(u,E){if(1&u){const l=i.EpF();i.TgZ(0,"button",9),i.NdJ("click",function(){return i.CHM(l),i.oxw(2).reject()}),i.qZA()}if(2&u){const l=i.oxw(2);i.Tol(l.confirmation.rejectButtonStyleClass||"p-button-text"),i.Q6J("icon",l.confirmation.rejectIcon)("label",l.rejectButtonLabel)("ngClass","p-confirm-popup-reject p-button-sm"),i.uIk("aria-label",l.rejectButtonLabel)}}function D(u,E){if(1&u){const l=i.EpF();i.TgZ(0,"button",9),i.NdJ("click",function(){return i.CHM(l),i.oxw(2).accept()}),i.qZA()}if(2&u){const l=i.oxw(2);i.Tol(l.confirmation.acceptButtonStyleClass),i.Q6J("icon",l.confirmation.acceptIcon)("label",l.acceptButtonLabel)("ngClass","p-confirm-popup-accept p-button-sm"),i.uIk("aria-label",l.acceptButtonLabel)}}const Z=function(u,E){return{showTransitionParams:u,hideTransitionParams:E}},T=function(u){return{value:"open",params:u}};function M(u,E){if(1&u){const l=i.EpF();i.TgZ(0,"div",1),i.NdJ("click",function(f){return i.CHM(l),i.oxw().onOverlayClick(f)})("@animation.start",function(f){return i.CHM(l),i.oxw().onAnimationStart(f)})("@animation.done",function(f){return i.CHM(l),i.oxw().onAnimationEnd(f)}),i.TgZ(1,"div",2,3),i.YNc(3,e,1,3,"i",4),i.TgZ(4,"span",5),i._uU(5),i.qZA()(),i.TgZ(6,"div",6),i.YNc(7,h,1,6,"button",7),i.YNc(8,D,1,6,"button",7),i.qZA()()}if(2&u){const l=i.oxw();i.Tol(l.styleClass),i.Q6J("ngClass","p-confirm-popup p-component")("ngStyle",l.style)("@animation",i.VKq(12,T,i.WLB(9,Z,l.showTransitionOptions,l.hideTransitionOptions))),i.xp6(3),i.Q6J("ngIf",l.confirmation.icon),i.xp6(2),i.Oqu(l.confirmation.message),i.xp6(2),i.Q6J("ngIf",!1!==l.confirmation.rejectVisible),i.xp6(1),i.Q6J("ngIf",!1!==l.confirmation.acceptVisible)}}let O=(()=>{class u{constructor(l,_,f,P,S,U){this.el=l,this.confirmationService=_,this.renderer=f,this.cd=P,this.config=S,this.overlayService=U,this.defaultFocus="accept",this.showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)",this.hideTransitionOptions=".1s linear",this.autoZIndex=!0,this.baseZIndex=0,this.subscription=this.confirmationService.requireConfirmation$.subscribe(A=>{A?A.key===this.key&&(this.confirmation=A,this.confirmation.accept&&(this.confirmation.acceptEvent=new i.vpe,this.confirmation.acceptEvent.subscribe(this.confirmation.accept)),this.confirmation.reject&&(this.confirmation.rejectEvent=new i.vpe,this.confirmation.rejectEvent.subscribe(this.confirmation.reject)),this.visible=!0):this.hide()})}get visible(){return this._visible}set visible(l){this._visible=l,this.cd.markForCheck()}onAnimationStart(l){if("open"===l.toState){this.container=l.element,document.body.appendChild(this.container),this.align(),this.bindListeners();const _=this.getElementToFocus();_&&_.focus()}}onAnimationEnd(l){"void"===l.toState&&this.onContainerDestroy()}getElementToFocus(){switch(this.defaultFocus){case"accept":return d.p.findSingle(this.container,".p-confirm-popup-accept");case"reject":return d.p.findSingle(this.container,".p-confirm-popup-reject");case"none":return null}}align(){this.autoZIndex&&v.P9.set("overlay",this.container,this.config.zIndex.overlay),d.p.absolutePosition(this.container,this.confirmation.target);const l=d.p.getOffset(this.container),_=d.p.getOffset(this.confirmation.target);let f=0;l.left<_.left&&(f=_.left-l.left),this.container.style.setProperty("--overlayArrowLeft",`${f}px`),l.top<_.top&&d.p.addClass(this.container,"p-confirm-popup-flipped")}hide(){this.visible=!1}accept(){this.confirmation.acceptEvent&&this.confirmation.acceptEvent.emit(),this.hide()}reject(){this.confirmation.rejectEvent&&this.confirmation.rejectEvent.emit(),this.hide()}onOverlayClick(l){this.overlayService.add({originalEvent:l,target:this.el.nativeElement})}bindListeners(){this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindScrollListener()}unbindListeners(){this.unbindDocumentClickListener(),this.unbindDocumentResizeListener(),this.unbindScrollListener()}bindDocumentClickListener(){if(!this.documentClickListener){let l=d.p.isIOS()?"touchstart":"click";const _=this.el?this.el.nativeElement.ownerDocument:document;this.documentClickListener=this.renderer.listen(_,l,f=>{let P=this.confirmation.target;this.container!==f.target&&!this.container.contains(f.target)&&P!==f.target&&!P.contains(f.target)&&this.hide()})}}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)}onWindowResize(){this.hide()}bindDocumentResizeListener(){this.documentResizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.documentResizeListener)}unbindDocumentResizeListener(){this.documentResizeListener&&(window.removeEventListener("resize",this.documentResizeListener),this.documentResizeListener=null)}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new d.V(this.confirmation.target,()=>{this.visible&&this.hide()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}unsubscribeConfirmationSubscriptions(){this.confirmation&&(this.confirmation.acceptEvent&&this.confirmation.acceptEvent.unsubscribe(),this.confirmation.rejectEvent&&this.confirmation.rejectEvent.unsubscribe())}onContainerDestroy(){this.unbindListeners(),this.unsubscribeConfirmationSubscriptions(),this.autoZIndex&&v.P9.clear(this.container),this.confirmation=null,this.container=null}restoreAppend(){this.container&&document.body.removeChild(this.container),this.onContainerDestroy()}get acceptButtonLabel(){return this.confirmation.acceptLabel||this.config.getTranslation(g.ws.ACCEPT)}get rejectButtonLabel(){return this.confirmation.rejectLabel||this.config.getTranslation(g.ws.REJECT)}ngOnDestroy(){this.restoreAppend(),this.subscription&&this.subscription.unsubscribe()}}return u.\u0275fac=function(l){return new(l||u)(i.Y36(i.SBq),i.Y36(g.YP),i.Y36(i.Qsj),i.Y36(i.sBO),i.Y36(g.b4),i.Y36(g.F0))},u.\u0275cmp=i.Xpm({type:u,selectors:[["p-confirmPopup"]],hostAttrs:[1,"p-element"],inputs:{key:"key",defaultFocus:"defaultFocus",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",style:"style",styleClass:"styleClass",visible:"visible"},decls:1,vars:1,consts:[[3,"ngClass","ngStyle","class","click",4,"ngIf"],[3,"ngClass","ngStyle","click"],[1,"p-confirm-popup-content"],["content",""],[3,"ngClass","class",4,"ngIf"],[1,"p-confirm-popup-message"],[1,"p-confirm-popup-footer"],["type","button","pButton","",3,"icon","label","ngClass","class","click",4,"ngIf"],[3,"ngClass"],["type","button","pButton","",3,"icon","label","ngClass","click"]],template:function(l,_){1&l&&i.YNc(0,M,9,14,"div",0),2&l&&i.Q6J("ngIf",_.visible)},directives:[m.O5,m.mk,m.PC,t.Hq],styles:['.p-confirm-popup{position:absolute;margin-top:10px;top:0;left:0}.p-confirm-popup-flipped{margin-top:0;margin-bottom:10px}.p-confirm-popup:after,.p-confirm-popup:before{bottom:100%;left:calc(var(--overlayArrowLeft, 0) + 1.25rem);content:" ";height:0;width:0;position:absolute;pointer-events:none}.p-confirm-popup:after{border-width:8px;margin-left:-8px}.p-confirm-popup:before{border-width:10px;margin-left:-10px}.p-confirm-popup-flipped:after,.p-confirm-popup-flipped:before{bottom:auto;top:100%}.p-confirm-popup.p-confirm-popup-flipped:after{border-bottom-color:transparent}.p-confirm-popup.p-confirm-popup-flipped:before{border-bottom-color:transparent}.p-confirm-popup .p-confirm-popup-content{display:flex;align-items:center}\n'],encapsulation:2,data:{animation:[(0,o.X$)("animation",[(0,o.SB)("void",(0,o.oB)({transform:"scaleY(0.8)",opacity:0})),(0,o.SB)("open",(0,o.oB)({transform:"translateY(0)",opacity:1})),(0,o.eR)("void => open",(0,o.jt)("{{showTransitionParams}}")),(0,o.eR)("open => void",(0,o.jt)("{{hideTransitionParams}}"))])]},changeDetection:0}),u})(),y=(()=>{class u{}return u.\u0275fac=function(l){return new(l||u)},u.\u0275mod=i.oAB({type:u}),u.\u0275inj=i.cJS({imports:[[m.ez,t.hJ]]}),u})()}}]);