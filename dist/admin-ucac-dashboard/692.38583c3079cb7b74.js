"use strict";(self.webpackChunkadmin_ucac_dashboard=self.webpackChunkadmin_ucac_dashboard||[]).push([[692],{5119:(T,h,o)=>{o.d(h,{T:()=>m});var l=o(2340),c=o(7587),p=o(520),_=o(4920);let m=(()=>{class e{constructor(r,u){this.http=r,this.baseUrlSvr=u,this.url="",this.url=`${this.baseUrlSvr.getOrigin()}${l.N.administrationPath}`,this.url+="centre_examen/"}liste(){return this.http.get(this.url+"all")}allByZone(r){return this.http.get(this.url+"allbyzone/"+r)}allBySite(r){return this.http.get(this.url+"allbysite/"+r)}getOne(r){return this.http.get(this.url+r)}create(r){return this.http.post(this.url+"create",r)}update(r){return this.http.patch(this.url+(null==r?void 0:r.id),r)}delete(r){return this.http.delete(this.url+r)}}return e.\u0275fac=function(r){return new(r||e)(c.LFG(p.eN),c.LFG(_.x))},e.\u0275prov=c.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},9930:(T,h,o)=>{o.d(h,{u:()=>m});var l=o(2340),c=o(7587),p=o(520),_=o(4920);let m=(()=>{class e{constructor(r,u){this.http=r,this.baseUrlSvr=u,this.url="",this.url=`${this.baseUrlSvr.getOrigin()}${l.N.candidaturePath}`,this.url+="candidature/"}liste(){return this.http.get(this.url+"candidats")}update(r,u){return this.http.patch(this.url+"candidats/update/"+r,u)}allByZone(r){return this.http.get(this.url+"allbyzone/"+r)}allSolvableByZone(r,u){return this.http.get(this.url+"allbysolvabilitezone/"+r+"/"+u)}allAdmissibleByZone(r){return this.http.get(this.url+"admissiblebyzone/"+r)}allAdmissByZone(r){return this.http.get(this.url+"admisbyzone/"+r)}allByCentre(r){return this.http.get(this.url+"allbycentreexamen/"+r)}allByParcours(r){return this.http.post(this.url+"filteredcandidats",{parcours:!0,cycle:!1,valeaurParcours:r,valeurCycle:"string"})}allByCycle(r){return this.http.post(this.url+"filteredcandidats",{parcours:!1,cycle:!0,valeaurParcours:"string",valeurCycle:r})}allByCycleAndParcours(r,u){return this.http.post(this.url+"filteredcandidats",{parcours:!0,cycle:!0,valeaurParcours:u,valeurCycle:r})}allSolvableByCentre(r,u){return this.http.get(this.url+"allbysolvabilitecentreexamen/"+r+"/"+u)}allAdmissibleByCentre(r){return this.http.get(this.url+"admissiblebycentreexamen/"+r)}allAdmissByCentre(r){return this.http.get(this.url+"admisbycentreexamen/"+r)}allBySite(r){return this.http.get(this.url+"allbysite/"+r)}allSolvableBySite(r,u){return this.http.get(this.url+"allbysolvabilitesite/"+r+"/"+u)}allAdmissibleBySite(r){return this.http.get(this.url+"admissiblebysite/"+r)}allAdmissBySite(r){return this.http.get(this.url+"admisbysite/"+r)}getOne(r){return this.http.get(this.url+r)}getStatistics(){return this.http.get(this.url+"statistics")}downloadCandidatureFile(){return this.http.get(this.url+"candidatures/download",{responseType:"blob"})}downloadCandidatureFileFor(r,u){return this.http.post(this.url+"filteredcandidats/download",{parcours:!0,cycle:!0,valeaurParcours:u,valeurCycle:r},{responseType:"blob"})}downloadAdmissibleCandidatureFile(){return this.http.get(this.url+"candidatures/download",{responseType:"blob"})}downloadAdmissibleCandidatureFileByZone(r){return this.http.get(this.url+"download/admissiblebyzone/"+r,{responseType:"blob"})}downloadAdmissibleCandidatureFileByCentre(r){return this.http.get(this.url+"download/admissiblebycentreexamen/"+r,{responseType:"blob"})}downloadAdmissibleCandidatureFileBySite(r){return this.http.get(this.url+"download/admissiblebysite/"+r,{responseType:"blob"})}downloadAdmissCandidatureFile(){return this.http.get(this.url+"candidatures/download",{responseType:"blob"})}downloadAdmisCandidatureFileByZone(r){return this.http.get(this.url+"download/admisbyzone/"+r,{responseType:"blob"})}downloadAdmisCandidatureFileByCentre(r){return this.http.get(this.url+"download/admisbycentreexamen/"+r,{responseType:"blob"})}downloadAdmisCandidatureFileBySite(r){return this.http.get(this.url+"download/admisbyste/"+r,{responseType:"blob"})}downloadSolvableCandidatureFile(r){return this.http.get(this.url+"download/allbysolvabilite/"+r,{responseType:"blob"})}delete(r){return this.http.delete(this.url+r)}}return e.\u0275fac=function(r){return new(r||e)(c.LFG(p.eN),c.LFG(_.x))},e.\u0275prov=c.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},692:(T,h,o)=>{o.r(h),o.d(h,{ListeCandidatureModule:()=>te});var l=o(9808),c=o(7671),p=o(5193),_=o(4327),m=o(4725),e=o(7587),f=o(9930),r=o(1303),u=o(2042),b=o(3149),C=o(5119),S=o(7755),Z=o(845),y=o(2382),A=o(5652),M=o(5515);function P(a,d){1&a&&(e.TgZ(0,"div")(1,"p"),e._uU(2,"T\xe9l\xe9chargement en cours..."),e.qZA()())}function U(a,d){if(1&a&&(e.TgZ(0,"option",48),e._uU(1),e.qZA()),2&a){const i=d.$implicit;e.Q6J("value",i.id),e.xp6(1),e.Oqu(i.nom)}}function L(a,d){if(1&a){const i=e.EpF();e.TgZ(0,"select",47),e.NdJ("change",function(n){return e.CHM(i),e.oxw().handleZoneSelect(n)}),e.TgZ(1,"option",48),e._uU(2,"Select zones"),e.qZA(),e.YNc(3,U,2,2,"option",49),e.qZA()}if(2&a){const i=e.oxw();e.xp6(3),e.Q6J("ngForOf",i.zones)}}function x(a,d){if(1&a&&(e.TgZ(0,"option",48),e._uU(1),e.qZA()),2&a){const i=d.$implicit;e.Q6J("value",i.id),e.xp6(1),e.Oqu(i.nom)}}function B(a,d){if(1&a){const i=e.EpF();e.TgZ(0,"select",47),e.NdJ("change",function(n){return e.CHM(i),e.oxw().handleSiteSelect(n)}),e.YNc(1,x,2,2,"option",49),e.qZA()}if(2&a){const i=e.oxw();e.xp6(1),e.Q6J("ngForOf",i.sites)}}function z(a,d){if(1&a&&(e.TgZ(0,"option",48),e._uU(1),e.qZA()),2&a){const i=d.$implicit;e.Q6J("value",i.id),e.xp6(1),e.Oqu(i.nom)}}function I(a,d){if(1&a){const i=e.EpF();e.TgZ(0,"select",47),e.NdJ("change",function(n){return e.CHM(i),e.oxw().handleCentreSelect(n)}),e.YNc(1,z,2,2,"option",49),e.qZA()}if(2&a){const i=e.oxw();e.xp6(1),e.Q6J("ngForOf",i.centres)}}function J(a,d){if(1&a){const i=e.EpF();e.TgZ(0,"select",47),e.NdJ("change",function(n){return e.CHM(i),e.oxw().handleSexeSelect(n)}),e.TgZ(1,"option",50),e._uU(2,"M"),e.qZA(),e.TgZ(3,"option",51),e._uU(4,"F"),e.qZA()()}}function F(a,d){if(1&a&&(e.TgZ(0,"option",48),e._uU(1),e.qZA()),2&a){const i=d.$implicit;e.Q6J("value",i),e.xp6(1),e.Oqu(i)}}function N(a,d){if(1&a){const i=e.EpF();e.TgZ(0,"select",47),e.NdJ("change",function(n){return e.CHM(i),e.oxw().handleNationalitySelect(n)}),e.YNc(1,F,2,2,"option",49),e.qZA()}if(2&a){const i=e.oxw();e.xp6(1),e.Q6J("ngForOf",i.nationalites)}}function w(a,d){if(1&a&&(e.TgZ(0,"option",48),e._uU(1),e.qZA()),2&a){const i=d.$implicit;e.Q6J("value",i),e.xp6(1),e.Oqu(i)}}function D(a,d){if(1&a){const i=e.EpF();e.TgZ(0,"select",47),e.NdJ("change",function(n){return e.CHM(i),e.oxw().handleFormationSelect(n)}),e.YNc(1,w,2,2,"option",49),e.qZA()}if(2&a){const i=e.oxw();e.xp6(1),e.Q6J("ngForOf",i.formations)}}function q(a,d){if(1&a){const i=e.EpF();e.TgZ(0,"select",47),e.NdJ("change",function(n){return e.CHM(i),e.oxw().handleCycleSelect(n)}),e.TgZ(1,"option",52),e._uU(2,"Premier"),e.qZA(),e.TgZ(3,"option",53),e._uU(4,"Second"),e.qZA()()}}function Q(a,d){if(1&a){const i=e.EpF();e.TgZ(0,"p-calendar",54),e.NdJ("onSelect",function(n){return e.CHM(i),e.oxw().handleDateNaissanceSelect(n)})("ngModelChange",function(n){return e.CHM(i),e.oxw().date_naissance=n}),e.qZA()}if(2&a){const i=e.oxw();e.Q6J("ngModel",i.date_naissance)}}function R(a,d){if(1&a){const i=e.EpF();e.TgZ(0,"i",55),e.NdJ("click",function(){return e.CHM(i),e.oxw().searchValue=""}),e.qZA()}}function K(a,d){if(1&a&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.qZA(),e.TgZ(13,"td"),e._uU(14),e.qZA(),e.TgZ(15,"td"),e._uU(16),e.qZA(),e.TgZ(17,"td"),e._uU(18),e.qZA()()),2&a){const i=d.$implicit;e.xp6(2),e.Oqu(i.code_examen),e.xp6(2),e.Oqu(i.compte.name),e.xp6(2),e.Oqu(i.compte.prenom),e.xp6(2),e.Oqu(i.nationalite),e.xp6(2),e.lnq("",i.formation1,", ",i.formation2,", ",i.formation3,""),e.xp6(2),e.Oqu(i.genre),e.xp6(2),e.Oqu(i.langue),e.xp6(2),e.Oqu(i.date_naissance),e.xp6(2),e.Oqu(i.statut)}}function Y(a,d){1&a&&(e.TgZ(0,"tr")(1,"td",56)(2,"span",57),e._uU(3," Aucune candidatures trouv\xe9s avec ces lettres dans son nom "),e.qZA()()())}function V(a,d){1&a&&(e.TgZ(0,"tr")(1,"td",56)(2,"span",57),e._uU(3," Aucune candidatures presents dans la base "),e.qZA()()())}function W(a,d){if(1&a){const i=e.EpF();e.TgZ(0,"li",58)(1,"a",59),e.NdJ("click",function(){return e.CHM(i),e.oxw().previous()}),e._uU(2,"Pr\xe9cedent"),e.qZA()()}}function G(a,d){if(1&a){const i=e.EpF();e.TgZ(0,"li",60)(1,"a",61),e.NdJ("click",function(){return e.CHM(i),e.oxw().next()}),e._uU(2,"Suivant"),e.qZA()()}}function j(a,d){if(1&a){const i=e.EpF();e.TgZ(0,"app-parcours-dialog",62),e.NdJ("criteria",function(n){return e.CHM(i),e.oxw().getCriteria(n)}),e.qZA()}if(2&a){const i=e.oxw();e.Q6J("visible",i.visible)}}const v=function(a){return{bold:a}};let k=(()=>{class a{constructor(i,t,n,s,g,O){this.candidatureSrv=i,this.storageService=t,this.siteSrv=n,this.exportExcelService=s,this.centreSrv=g,this.zoneService=O,this.visible=!1,this.candidatures=[],this.formations=["Ing\xe9nieur g\xe9n\xe9raliste parcours international","Ing\xe9nieur g\xe9n\xe9raliste par apprentissage ou g\xe9nie des proc\xe9d\xe9s","Ing\xe9nieur genie des proc\xe9d\xe9s","Ing\xe9nieur g\xe9neraliste parcours international et innovation","Ing\xe9nieur g\xe9nie Informtique"],this.searchCandidatures=[],this.loading=!1,this.downloadFile=!1,this.nationalites=[],this.zones=[],this.sites=[],this.centres=[]}ngAfterViewInit(){}ngOnInit(){this.sortProperty="code_examen",this.sortIcon="fa-solid fa-arrow-down-short-wide",this.downUpIcon="pi pi-sort-alt",this.pageSize=10,this.page=1,this.compte=this.storageService.getUserConnected(),this.getZonesOfUser()}sort(i,t=this.candidatures){return this.sortProperty=i,this.isAsc=!this.isAsc,this.sortIcon=this.isAsc?"fa-solid fa-arrow-down-short-wide":"fa-solid fa-arrow-down-wide-short","nom"===i&&t.sort(this.isAsc?(n,s)=>n.compte.name>s.compte.name?1:s.compte.name>n.compte.name?-1:0:(n,s)=>n.compte.name>s.compte.name?-1:s.compte.name>n.compte.name?1:0),"prenom"===i&&t.sort(this.isAsc?(n,s)=>n.compte.prenom>s.compte.prenom?1:s.compte.prenom>n.compte.prenom?-1:0:(n,s)=>n.compte.prenom>s.compte.prenom?-1:s.compte.prenom>n.compte.prenom?1:0),"statut"===i&&t.sort(this.isAsc?(n,s)=>n.statut>s.statut?1:s.statut>n.statut?-1:0:(n,s)=>n.statut>s.statut?-1:s.statut>n.statut?1:0),"nationalite"===i&&t.sort(this.isAsc?(n,s)=>n.nationalite>s.nationalite?1:s.nationalite>n.nationalite?-1:0:(n,s)=>n.nationalite>s.nationalite?-1:s.nationalite>n.nationalite?1:0),"genre"===i&&t.sort(this.isAsc?(n,s)=>n.genre>s.genre?1:s.genre>n.genre?-1:0:(n,s)=>n.genre>s.genre?-1:s.genre>n.genre?1:0),"langue"===i&&t.sort(this.isAsc?(n,s)=>n.langue>s.langue?1:s.langue>n.langue?-1:0:(n,s)=>n.langue>s.langue?-1:s.langue>n.langue?1:0),"photo"===i&&t.sort(this.isAsc?(n,s)=>n.image>s.image?1:s.image>n.image?-1:0:(n,s)=>n.image>s.image?-1:s.image>n.image?1:0),"datenaissance"===i&&t.sort(this.isAsc?(n,s)=>n.date_naissance>s.date_naissance?1:s.date_naissance>n.date_naissance?-1:0:(n,s)=>n.date_naissance>s.date_naissance?-1:s.date_naissance>n.date_naissance?1:0),t}getCriteria(i){this.visible=!1,this.downloadFile?this.candidatureSrv.downloadCandidatureFileFor(i.cycle,i.formation).subscribe({next:t=>{(0,_.saveAs)(t,"liste_candidat_"+i.cycle+"_cycle.xlsx")},error:t=>{console.log("error: ",t)}}):this.getCandidaturesByCycleAndParcours(i.cycle,i.formation)}exportToExcel(){this.loading=!0,this.exportExcelService.downloadCandidatureExcel().subscribe(i=>{const t=new Blob([i],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),n=window.URL.createObjectURL(t),s=document.createElement("a");s.href=n,s.download="data.xlsx",s.click(),window.URL.revokeObjectURL(n),this.loading=!1})}showDialog(){this.visible=!0}handlePageSize(i){var t,n,s;this.page=1,"centre"==this.actifOption&&this.getCandidaturesByCentre(null!==(t=this.centre.id)&&void 0!==t?t:0),"site"==this.actifOption&&this.getCandidaturesBySite(null!==(n=this.site.id)&&void 0!==n?n:0),"zone"==this.actifOption&&this.getCandidaturesByZone(null!==(s=this.zone.id)&&void 0!==s?s:0)}handleCategorieSelect(i){this.compte.role==p.u.SUPER_ADMIN&&("centre"==i.target.value&&this.getCentres(),"site"==i.target.value&&this.getSites())}handleZoneSelect(i){var t;this.zone=this.zones.find(n=>n.id==i.target.value),this.getCandidaturesByZone(null!==(t=i.target.value)&&void 0!==t?t:0)}handleCentreSelect(i){var t;this.centre=this.centres.find(n=>n.id==i.target.value),this.getCandidaturesByCentre(null!==(t=i.target.value)&&void 0!==t?t:0)}getFormationLabel(i){return"Ing\xe9nieur g\xe9n\xe9raliste parcours international"==i?"OP":"Ing\xe9nieur g\xe9n\xe9raliste par apprentissage ou g\xe9nie des proc\xe9d\xe9s"==i?"L":"Ing\xe9nieur genie des proc\xe9d\xe9s"==i?"IP":"Ing\xe9nieur g\xe9neraliste parcours international et innovation"==i?"I":"Ing\xe9nieur g\xe9nie Informtique"==i?"X":""}handleFormationSelect(i){this.getCandidaturesByParcours(this.getFormationLabel(i.target.value))}handleCycleSelect(i){this.getCandidaturesByCycle(i.target.value)}handleDateNaissanceSelect(i){this.getCandidaturesByDateNaissance()}handleNationalitySelect(i){this.getCandidaturesByNationality(i.target.value)}handleSexeSelect(i){this.getCandidaturesBySexe("M"==i.target.value?m.m.M:m.m.F)}handleSiteSelect(i){var t;this.site=this.sites.find(n=>n.id==i.target.value),this.getCandidaturesBySite(null!==(t=i.target.value)&&void 0!==t?t:0)}handleSearchValue(i){if(this.searchValue=i.target.value,""!==this.searchValue){let n=this.searchCandidatures.map(s=>s.compte.name).filter(s=>s.toLowerCase().indexOf(this.searchValue.toLowerCase()+"")>-1);if(0===n.length)this.candidatures=[];else{let s=[];for(let g=0;g<n.length;g++){const O=n[g];let ie=this.searchCandidatures.filter(ne=>ne.compte.name.indexOf(""+O)>-1);s.push(...ie)}this.candidatures=s}}else this.candidatures=this.searchCandidatures}next(){var i,t,n;this.page++,"centre"==this.actifOption&&this.getCandidaturesByCentre(null!==(i=this.centre.id)&&void 0!==i?i:0),"site"==this.actifOption&&this.getCandidaturesBySite(null!==(t=this.site.id)&&void 0!==t?t:0),"zone"==this.actifOption&&this.getCandidaturesByZone(null!==(n=this.zone.id)&&void 0!==n?n:0)}previous(){var i,t,n;this.page--,"centre"==this.actifOption&&this.getCandidaturesByCentre(null!==(i=this.centre.id)&&void 0!==i?i:0),"site"==this.actifOption&&this.getCandidaturesBySite(null!==(t=this.site.id)&&void 0!==t?t:0),"zone"==this.actifOption&&this.getCandidaturesByZone(null!==(n=this.zone.id)&&void 0!==n?n:0)}getCandidaturesByZone(i){this.actifOption="zone",this.idZone=i,this.candidatureSrv.allByZone(i).subscribe({next:t=>{this.totalElement=t.length,this.nationalites=t.map(n=>n.nationalite),this.nationalites=[...new Set(this.nationalites)],t=this.sort("nom",t),this.searchCandidatures=[],this.searchCandidatures=t,this.candidatures=t.map((n,s)=>Object.assign({id:s+1},n)).slice((this.page-1)*this.pageSize,(this.page-1)*this.pageSize+this.pageSize),this.collectionSize=t.length,this.nbrOfPage=Math.ceil(t.length/this.pageSize)},error:t=>{console.log("error: ",t)}})}getCandidaturesByNationality(i){this.actifOption="zone",this.candidatureSrv.allByZone(this.idZone).subscribe({next:t=>{this.totalElement=t.length,t=this.sort("nom",t.filter(n=>n.nationalite==i)),this.searchCandidatures=[],this.searchCandidatures=t,this.candidatures=t.map((n,s)=>Object.assign({id:s+1},n)).slice((this.page-1)*this.pageSize,(this.page-1)*this.pageSize+this.pageSize),this.collectionSize=t.length,this.nbrOfPage=Math.ceil(t.length/this.pageSize)},error:t=>{console.log("error: ",t)}})}getCandidaturesBySexe(i){this.actifOption="zone",this.candidatureSrv.allByZone(this.idZone).subscribe({next:t=>{this.totalElement=t.length,t=this.sort("nom",t.filter(n=>n.genre==i)),this.searchCandidatures=[],this.searchCandidatures=t,this.candidatures=t.map((n,s)=>Object.assign({id:s+1},n)).slice((this.page-1)*this.pageSize,(this.page-1)*this.pageSize+this.pageSize),this.collectionSize=t.length,this.nbrOfPage=Math.ceil(t.length/this.pageSize)},error:t=>{this.candidatures=[],console.log("error: ",t)}})}getCandidaturesByDateNaissance(){this.actifOption="zone";let i=this.date_naissance.getFullYear()+"-"+this.date_naissance.getMonth()+"-"+this.date_naissance.getDate();this.candidatureSrv.allByZone(this.idZone).subscribe({next:t=>{this.totalElement=t.length,t=this.sort("nom",t.filter(n=>n.date_naissance==i)),this.searchCandidatures=[],this.searchCandidatures=t,this.candidatures=t.map((n,s)=>Object.assign({id:s+1},n)).slice((this.page-1)*this.pageSize,(this.page-1)*this.pageSize+this.pageSize),this.collectionSize=t.length,this.nbrOfPage=Math.ceil(t.length/this.pageSize)},error:t=>{this.candidatures=[],console.log("error: ",t)}})}getCandidaturesByCentre(i){this.actifOption="centre",this.candidatureSrv.allByCentre(i).subscribe({next:t=>{this.totalElement=t.length,t=this.sort("nom",t),this.searchCandidatures=[],this.searchCandidatures=t,this.candidatures=t.map((n,s)=>Object.assign({id:s+1},n)).slice((this.page-1)*this.pageSize,(this.page-1)*this.pageSize+this.pageSize),this.collectionSize=t.length,this.nbrOfPage=Math.ceil(t.length/this.pageSize)},error:t=>{this.candidatures=[],console.log("error: ",t)}})}getCandidaturesByParcours(i){this.candidatureSrv.allByParcours(i).subscribe({next:t=>{this.totalElement=t.length,t=this.sort("nom",t),this.searchCandidatures=[],this.searchCandidatures=t,this.candidatures=t.map((n,s)=>Object.assign({id:s+1},n)).slice((this.page-1)*this.pageSize,(this.page-1)*this.pageSize+this.pageSize),this.collectionSize=t.length,this.nbrOfPage=Math.ceil(t.length/this.pageSize)},error:t=>{this.candidatures=[],console.log("error: ",t)}})}getCandidaturesByCycle(i){this.candidatureSrv.allByCycle(i).subscribe({next:t=>{this.totalElement=t.length,t=this.sort("nom",t),this.searchCandidatures=[],this.searchCandidatures=t,this.candidatures=t.map((n,s)=>Object.assign({id:s+1},n)).slice((this.page-1)*this.pageSize,(this.page-1)*this.pageSize+this.pageSize),this.collectionSize=t.length,this.nbrOfPage=Math.ceil(t.length/this.pageSize)},error:t=>{this.candidatures=[],console.log("error: ",t)}})}getCandidaturesByCycleAndParcours(i,t){this.candidatureSrv.allByCycleAndParcours(i,t).subscribe({next:n=>{this.totalElement=n.length,n=this.sort("nom",n),this.searchCandidatures=[],this.searchCandidatures=n,this.candidatures=n.map((s,g)=>Object.assign({id:g+1},s)).slice((this.page-1)*this.pageSize,(this.page-1)*this.pageSize+this.pageSize),this.collectionSize=n.length,this.nbrOfPage=Math.ceil(n.length/this.pageSize)},error:n=>{this.candidatures=[],console.log("error: ",n)}})}getCandidaturesBySite(i){this.actifOption="site",this.candidatureSrv.allBySite(i).subscribe({next:t=>{this.totalElement=t.length,t=this.sort("nom",t),this.searchCandidatures=[],this.searchCandidatures=t,this.candidatures=t.map((n,s)=>Object.assign({id:s+1},n)).slice((this.page-1)*this.pageSize,(this.page-1)*this.pageSize+this.pageSize),this.collectionSize=t.length,this.nbrOfPage=Math.ceil(t.length/this.pageSize)},error:t=>{this.candidatures=[],console.log("error: ",t)}})}getZonesOfUser(){var i;this.compte.role==p.u.SUPER_ADMIN&&this.zoneService.liste().subscribe({next:t=>{var n,s,g;this.zone=t[0],this.zones=t,this.getCandidaturesByZone(null!==(n=this.zone.id)&&void 0!==n?n:0),this.getSitesByZone(null!==(s=this.zone.id)&&void 0!==s?s:0),this.getCentreByZone(null!==(g=this.zone.id)&&void 0!==g?g:0)},error:t=>{console.log("error: ",t)}}),(this.compte.role==p.u.ADMIN||this.compte.role==p.u.JURY)&&this.zoneService.getOne(null!==(i=this.compte.idZone)&&void 0!==i?i:0).subscribe({next:t=>{var n,s,g;this.zone=t,this.zones=[t],this.getCandidaturesByZone(null!==(n=t.id)&&void 0!==n?n:0),this.getSitesByZone(null!==(s=t.id)&&void 0!==s?s:0),this.getCentreByZone(null!==(g=t.id)&&void 0!==g?g:0)},error:t=>{console.log("error: ",t)}})}getCentreByZone(i){this.centreSrv.allByZone(i).subscribe({next:t=>{this.centres=t},error:t=>{console.log("error: ",t)}})}getSitesByZone(i){this.siteSrv.allByZone(i).subscribe({next:t=>{this.sites=t},error:t=>{console.log("error: ",t)}})}getCentres(){this.centreSrv.liste().subscribe({next:i=>{this.centres=i},error:i=>{console.log("error: ",i)}})}getSites(){this.siteSrv.liste().subscribe({next:i=>{this.sites=i},error:i=>{console.log("error: ",i)}})}downloadCandidatureFile(){this.downloadFile=!0,this.showDialog()}}return a.\u0275fac=function(i){return new(i||a)(e.Y36(f.u),e.Y36(r.V),e.Y36(u.P),e.Y36(b.O),e.Y36(C.T),e.Y36(S.b))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-liste-candidature"]],decls:117,vars:77,consts:[[1,"Candidature-page","page-content"],[1,"page-title"],[1,"pi","pi-angle-right"],[1,"card"],[1,"header"],[1,"title"],["pButton","","pRipple","","icon","pi pi-filter",1,"p-button-warning","p-button-rounded","p-button-raised","p-button-text",2,"width","32px","height","32px",3,"click"],[4,"ngIf"],[1,"btn","btn-danger",3,"click"],[1,"line"],[1,"table-content"],[1,"search-content"],[1,"select-page-size"],["name","page-size","id","page-size",3,"ngModel","change","ngModelChange"],["value","10"],["value","25"],["value","50"],["value","100"],[1,"search"],[1,"select-item"],[1,"label"],[1,"form","form-control",3,"ngModel","ngModelChange","change"],["value","centre"],["value","site"],["value","zone"],["value","formation"],["value","cycle"],["value","nationalite"],["value","date_naissance"],["value","genre"],["class","form form-control",3,"change",4,"ngIf"],["class","ms-2",3,"ngModel","onSelect","ngModelChange",4,"ngIf"],[1,"search_value"],["type","text","name","value","id","value",3,"ngModel","ngModelChange","keyup"],["class","fa fa-close pull-right",3,"click",4,"ngIf"],[1,"row"],["id","table"],[3,"ngClass","click"],[3,"ngClass"],[4,"ngFor","ngForOf"],[1,"pagination_content"],[1,"pagination"],["class","paginate_button previous disabled","id","datatable-responsive_previous",4,"ngIf"],[1,"paginate_button","active"],["aria-controls","datatable-responsive","data-dt-idx","1","tabindex","0"],["class","paginate_button next disabled","id","datatable-responsive_next",4,"ngIf"],[3,"visible","criteria",4,"ngIf"],[1,"form","form-control",3,"change"],[3,"value"],[3,"value",4,"ngFor","ngForOf"],["value","M"],["value","F"],["value","premier"],["value","second"],[1,"ms-2",3,"ngModel","onSelect","ngModelChange"],[1,"fa","fa-close","pull-right",3,"click"],["colspan","9"],[1,"vh-center"],["id","datatable-responsive_previous",1,"paginate_button","previous","disabled"],["aria-controls","datatable-responsive","data-dt-idx","0","tabindex","0",3,"click"],["id","datatable-responsive_next",1,"paginate_button","next","disabled"],["aria-controls","datatable-responsive","data-dt-idx","2","tabindex","0",3,"click"],[3,"visible","criteria"]],template:function(i,t){1&i&&(e.TgZ(0,"section",0)(1,"h1",1),e._uU(2," Candidatures "),e._UZ(3,"i",2),e._uU(4," Liste des candidatures"),e.qZA(),e.TgZ(5,"div",3)(6,"div",4)(7,"h3",5),e._uU(8,"Liste des candidatures Ucac-Icam "),e.TgZ(9,"button",6),e.NdJ("click",function(){return t.showDialog()}),e.qZA()(),e.YNc(10,P,3,0,"div",7),e.TgZ(11,"button",8),e.NdJ("click",function(){return t.downloadCandidatureFile()}),e._uU(12," Exporter la liste des canditats "),e.qZA()(),e._UZ(13,"div",9),e.TgZ(14,"div",10)(15,"div",11)(16,"div",12)(17,"span"),e._uU(18,"Voir"),e.qZA(),e.TgZ(19,"select",13),e.NdJ("change",function(s){return t.handlePageSize(s)})("ngModelChange",function(s){return t.pageSize=s}),e.TgZ(20,"option",14),e._uU(21,"10"),e.qZA(),e.TgZ(22,"option",15),e._uU(23,"25"),e.qZA(),e.TgZ(24,"option",16),e._uU(25,"50"),e.qZA(),e.TgZ(26,"option",17),e._uU(27,"100"),e.qZA()(),e.TgZ(28,"span"),e._uU(29,"entr\xe9es"),e.qZA()(),e.TgZ(30,"div",18)(31,"div",19)(32,"span",20),e._uU(33,"Categories"),e.qZA(),e.TgZ(34,"select",21),e.NdJ("ngModelChange",function(s){return t.searchOption=s})("change",function(s){return t.handleCategorieSelect(s)}),e.TgZ(35,"option",22),e._uU(36,"Centre"),e.qZA(),e.TgZ(37,"option",23),e._uU(38,"Site"),e.qZA(),e.TgZ(39,"option",24),e._uU(40,"Zone"),e.qZA(),e.TgZ(41,"option",25),e._uU(42,"Formation"),e.qZA(),e.TgZ(43,"option",26),e._uU(44,"Cycle"),e.qZA(),e.TgZ(45,"option",27),e._uU(46,"Nationalit\xe9"),e.qZA(),e.TgZ(47,"option",28),e._uU(48,"Date de naissance"),e.qZA(),e.TgZ(49,"option",29),e._uU(50,"Genre"),e.qZA()(),e.YNc(51,L,4,1,"select",30),e.YNc(52,B,2,1,"select",30),e.YNc(53,I,2,1,"select",30),e.YNc(54,J,5,0,"select",30),e.YNc(55,N,2,1,"select",30),e.YNc(56,D,2,1,"select",30),e.YNc(57,q,5,0,"select",30),e.YNc(58,Q,1,1,"p-calendar",31),e.qZA(),e.TgZ(59,"div",32)(60,"span"),e._uU(61,"Rechercher"),e.qZA(),e.TgZ(62,"div")(63,"input",33),e.NdJ("ngModelChange",function(s){return t.searchValue=s})("keyup",function(s){return t.handleSearchValue(s)}),e.qZA(),e.YNc(64,R,1,0,"i",34),e.qZA()()()(),e.TgZ(65,"div",35)(66,"table",36)(67,"tr")(68,"th")(69,"div"),e._uU(70," Code d'examen "),e.TgZ(71,"i",37),e.NdJ("click",function(){return t.sort("code_examen")}),e.qZA()()(),e.TgZ(72,"th")(73,"div"),e._uU(74," Nom "),e.TgZ(75,"i",37),e.NdJ("click",function(){return t.sort("nom")}),e.qZA()()(),e.TgZ(76,"th")(77,"div"),e._uU(78," Pr\xe9nom "),e.TgZ(79,"i",37),e.NdJ("click",function(){return t.sort("prenom")}),e.qZA()()(),e.TgZ(80,"th")(81,"div"),e._uU(82," Nationalit\xe9 "),e.TgZ(83,"i",37),e.NdJ("click",function(){return t.sort("nationalite")}),e.qZA()()(),e.TgZ(84,"th")(85,"div"),e._uU(86," Formation "),e._UZ(87,"i",38),e.qZA()(),e.TgZ(88,"th")(89,"div"),e._uU(90," Genre "),e.TgZ(91,"i",37),e.NdJ("click",function(){return t.sort("genre")}),e.qZA()()(),e.TgZ(92,"th")(93,"div"),e._uU(94," Langue "),e.TgZ(95,"i",37),e.NdJ("click",function(){return t.sort("langue")}),e.qZA()()(),e.TgZ(96,"th")(97,"div"),e._uU(98," Date naissance "),e.TgZ(99,"i",37),e.NdJ("click",function(){return t.sort("datenaissance")}),e.qZA()()(),e.TgZ(100,"th")(101,"div"),e._uU(102," Statut "),e.TgZ(103,"i",37),e.NdJ("click",function(){return t.sort("statut")}),e.qZA()()()(),e.YNc(104,K,19,11,"tr",39),e.YNc(105,Y,4,0,"tr",7),e.YNc(106,V,4,0,"tr",7),e.qZA()(),e.TgZ(107,"div",40)(108,"span"),e._uU(109),e.qZA(),e.TgZ(110,"ul",41),e.YNc(111,W,3,0,"li",42),e.TgZ(112,"li",43)(113,"a",44),e._uU(114,"1"),e.qZA()(),e.YNc(115,G,3,0,"li",45),e.qZA()()()()(),e.YNc(116,j,1,1,"app-parcours-dialog",46)),2&i&&(e.xp6(10),e.Q6J("ngIf",t.loading),e.xp6(9),e.Q6J("ngModel",t.pageSize),e.xp6(15),e.Q6J("ngModel",t.searchOption),e.xp6(17),e.Q6J("ngIf",t.searchOption&&"zone"==t.searchOption),e.xp6(1),e.Q6J("ngIf",t.searchOption&&"site"==t.searchOption),e.xp6(1),e.Q6J("ngIf",t.searchOption&&"centre"==t.searchOption),e.xp6(1),e.Q6J("ngIf",t.searchOption&&"genre"==t.searchOption),e.xp6(1),e.Q6J("ngIf",t.searchOption&&"nationalite"==t.searchOption),e.xp6(1),e.Q6J("ngIf",t.searchOption&&"formation"==t.searchOption),e.xp6(1),e.Q6J("ngIf",t.searchOption&&"cycle"==t.searchOption),e.xp6(1),e.Q6J("ngIf",t.searchOption&&"date_naissance"==t.searchOption),e.xp6(5),e.Q6J("ngModel",t.searchValue),e.xp6(1),e.Q6J("ngIf",t.searchValue),e.xp6(7),e.Gre("icon-sort ","code_examen"==t.sortProperty?t.sortIcon:t.downUpIcon,""),e.Q6J("ngClass",e.VKq(59,v,"code_examen"==t.sortProperty)),e.xp6(4),e.Gre("icon-sort ","nom"==t.sortProperty?t.sortIcon:t.downUpIcon,""),e.Q6J("ngClass",e.VKq(61,v,"nom"==t.sortProperty)),e.xp6(4),e.Gre("icon-sort ","prenom"==t.sortProperty?t.sortIcon:t.downUpIcon,""),e.Q6J("ngClass",e.VKq(63,v,"prenom"==t.sortProperty)),e.xp6(4),e.Gre("icon-sort ","nationalite"==t.sortProperty?t.sortIcon:t.downUpIcon,""),e.Q6J("ngClass",e.VKq(65,v,"nationalite"==t.sortProperty)),e.xp6(4),e.Gre("icon-sort ","formation"==t.sortProperty?t.sortIcon:t.downUpIcon,""),e.Q6J("ngClass",e.VKq(67,v,"formation"==t.sortProperty)),e.xp6(4),e.Gre("icon-sort ","genre"==t.sortProperty?t.sortIcon:t.downUpIcon,""),e.Q6J("ngClass",e.VKq(69,v,"genre"==t.sortProperty)),e.xp6(4),e.Gre("icon-sort ","langue"==t.sortProperty?t.sortIcon:t.downUpIcon,""),e.Q6J("ngClass",e.VKq(71,v,"langue"==t.sortProperty)),e.xp6(4),e.Gre("icon-sort ","datenaissance"==t.sortProperty?t.sortIcon:t.downUpIcon,""),e.Q6J("ngClass",e.VKq(73,v,"datenaissance"==t.sortProperty)),e.xp6(4),e.Gre("icon-sort ","statut"==t.sortProperty?t.sortIcon:t.downUpIcon,""),e.Q6J("ngClass",e.VKq(75,v,"statut"==t.sortProperty)),e.xp6(1),e.Q6J("ngForOf",t.candidatures),e.xp6(1),e.Q6J("ngIf",t.searchValue&&0===t.candidatures.length),e.xp6(1),e.Q6J("ngIf",!t.searchValue&&0===t.candidatures.length),e.xp6(3),e.HOy("Page ",t.page," sur ",t.nbrOfPage,", avec ",t.candidatures.length," entr\xe9es affich\xe9es, ",t.totalElement," \xe9l\xe9ments au total"),e.xp6(2),e.Q6J("ngIf",t.page>1),e.xp6(4),e.Q6J("ngIf",t.page<t.nbrOfPage),e.xp6(1),e.Q6J("ngIf",t.visible))},directives:[Z.Hq,l.O5,y.EJ,y.JJ,y.On,y.YN,y.Kr,l.sg,A.f,y.Fj,l.mk,M.j],encapsulation:2}),a})();var E=o(437);const H=[{path:"",component:k,canActivate:[E.u]}];let $=(()=>{class a{}return a.\u0275fac=function(i){return new(i||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({providers:[E.u],imports:[[c.Bz.forChild(H)],c.Bz]}),a})();var X=o(520),ee=o(4466);let te=(()=>{class a{}return a.\u0275fac=function(i){return new(i||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({imports:[[l.ez,$,y.u5,X.JF,y.UX,A._8,ee.m,Z.hJ]]}),a})()},5515:(T,h,o)=>{o.d(h,{j:()=>f});var l=o(7587),c=o(5315),p=o(4036),_=o(2382),m=o(845);const e=function(){return{width:"50vw"}};let f=(()=>{class r{constructor(){this.formations=["OP","L","IP","I","X"],this.cycles=["premier","second"],this.criteria=new l.vpe}ngOnInit(){}validate(){this.cycle&&this.formation&&this.criteria.emit({cycle:this.cycle,formation:this.formation})}}return r.\u0275fac=function(b){return new(b||r)},r.\u0275cmp=l.Xpm({type:r,selectors:[["app-parcours-dialog"]],inputs:{visible:"visible"},outputs:{criteria:"criteria"},decls:13,vars:15,consts:[["header","S\xe9lection du parcous et du cycle",3,"closable","visible","modal","maximizable","draggable","resizable","visibleChange"],[1,"m-0"],[1,"w-full","parcours-dialog-form"],[1,"mb-4","mt-5"],[1,"block","text-900","font-medium","mb-2"],["placeholder","S\xe9lectionner le parcours de formation",3,"options","ngModel","showClear","ngModelChange"],["placeholder","S\xe9lectionner le cycle de formation",3,"options","ngModel","showClear","ngModelChange"],["pButton","","pRipple","","label","Valider","icon","pi pi-check",1,"w-full","mt-5",3,"click"]],template:function(b,C){1&b&&(l.TgZ(0,"p-dialog",0),l.NdJ("visibleChange",function(Z){return C.visible=Z}),l.TgZ(1,"p",1),l._uU(2," Bienvenue \xe0 vous, veuillez indiquer s'il vous pla\xeet le parcours de formation et le cycle \xe0 utiliser pour la pr\xe9visualisation de la page. "),l.qZA(),l.TgZ(3,"div",2)(4,"div",3)(5,"label",4),l._uU(6,"Parcours"),l.qZA(),l.TgZ(7,"p-dropdown",5),l.NdJ("ngModelChange",function(Z){return C.formation=Z}),l.qZA()(),l.TgZ(8,"div")(9,"label",4),l._uU(10,"Cycle de formation"),l.qZA(),l.TgZ(11,"p-dropdown",6),l.NdJ("ngModelChange",function(Z){return C.cycle=Z}),l.qZA()(),l.TgZ(12,"button",7),l.NdJ("click",function(){return C.validate()}),l.qZA()()()),2&b&&(l.Akn(l.DdM(14,e)),l.Q6J("closable",!0)("visible",C.visible)("modal",!0)("maximizable",!0)("draggable",!1)("resizable",!1),l.xp6(7),l.Q6J("options",C.formations)("ngModel",C.formation)("showClear",!0),l.xp6(4),l.Q6J("options",C.cycles)("ngModel",C.cycle)("showClear",!0))},directives:[c.V,p.Lt,_.JJ,_.On,m.Hq],encapsulation:2}),r})()},4725:(T,h,o)=>{o.d(h,{m:()=>l});var l=(()=>{return(c=l||(l={}))[c.M=0]="M",c[c.F=1]="F",l;var c})()},3149:(T,h,o)=>{o.d(h,{O:()=>m});var l=o(2340),c=o(7587),p=o(520),_=o(4920);let m=(()=>{class e{constructor(r,u){this.http=r,this.baseUrlSvr=u,this.url="",this.url=`${this.baseUrlSvr.getOrigin()}${l.N.candidaturePath}`,this.url+="candidature/candidatures/download"}downloadCandidatureExcel(){return this.http.get(this.url,{responseType:"arraybuffer"})}}return e.\u0275fac=function(r){return new(r||e)(c.LFG(p.eN),c.LFG(_.x))},e.\u0275prov=c.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},7755:(T,h,o)=>{o.d(h,{b:()=>m});var l=o(2340),c=o(7587),p=o(520),_=o(4920);let m=(()=>{class e{constructor(r,u){this.http=r,this.baseUrlSvr=u,this.url="",this.url=`${this.baseUrlSvr.getOrigin()}${l.N.administrationPath}`,this.url+="zone/"}liste(){return this.http.get(this.url+"all")}getOne(r){return this.http.get(this.url+r)}create(r){return this.http.post(this.url+"create",r)}update(r){return this.http.patch(this.url+(null==r?void 0:r.id),r)}delete(r){return this.http.delete(this.url+r)}}return e.\u0275fac=function(r){return new(r||e)(c.LFG(p.eN),c.LFG(_.x))},e.\u0275prov=c.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},2042:(T,h,o)=>{o.d(h,{P:()=>m});var l=o(2340),c=o(7587),p=o(520),_=o(4920);let m=(()=>{class e{constructor(r,u){this.http=r,this.baseUrlSvr=u,this.url="",this.url=`${this.baseUrlSvr.getOrigin()}${l.N.administrationPath}`,this.url+="site/"}liste(){return this.http.get(this.url+"all")}allByZone(r){return this.http.get(this.url+"allbyzone/"+r)}getOne(r){return this.http.get(this.url+r)}create(r){return this.http.post(this.url+"create",r)}update(r){return this.http.patch(this.url+(null==r?void 0:r.id),r)}delete(r){return this.http.delete(this.url+r)}}return e.\u0275fac=function(r){return new(r||e)(c.LFG(p.eN),c.LFG(_.x))},e.\u0275prov=c.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()}}]);