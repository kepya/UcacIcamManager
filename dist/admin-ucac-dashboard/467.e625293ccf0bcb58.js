"use strict";(self.webpackChunkadmin_ucac_dashboard=self.webpackChunkadmin_ucac_dashboard||[]).push([[467],{9930:(I,y,d)=>{d.d(y,{u:()=>w});var b=d(2340),_=d(7587),e=d(520),f=d(4920);let w=(()=>{class o{constructor(i,c){this.http=i,this.baseUrlSvr=c,this.url="",this.url=`${this.baseUrlSvr.getOrigin()}${b.N.candidaturePath}`,this.url+="candidature/"}liste(){return this.http.get(this.url+"candidats")}update(i,c){return this.http.patch(this.url+"candidats/update/"+i,c)}allByZone(i){return this.http.get(this.url+"allbyzone/"+i)}allSolvableByZone(i,c){return this.http.get(this.url+"allbysolvabilitezone/"+i+"/"+c)}allAdmissibleByZone(i){return this.http.get(this.url+"admissiblebyzone/"+i)}allAdmissByZone(i){return this.http.get(this.url+"admisbyzone/"+i)}allByCentre(i){return this.http.get(this.url+"allbycentreexamen/"+i)}allByParcours(i){return this.http.post(this.url+"filteredcandidats",{parcours:!0,cycle:!1,valeaurParcours:i,valeurCycle:"string"})}allByCycle(i){return this.http.post(this.url+"filteredcandidats",{parcours:!1,cycle:!0,valeaurParcours:"string",valeurCycle:i})}allByCycleAndParcours(i,c){return this.http.post(this.url+"filteredcandidats",{parcours:!0,cycle:!0,valeaurParcours:c,valeurCycle:i})}allSolvableByCentre(i,c){return this.http.get(this.url+"allbysolvabilitecentreexamen/"+i+"/"+c)}allAdmissibleByCentre(i){return this.http.get(this.url+"admissiblebycentreexamen/"+i)}allAdmissByCentre(i){return this.http.get(this.url+"admisbycentreexamen/"+i)}allBySite(i){return this.http.get(this.url+"allbysite/"+i)}allSolvableBySite(i,c){return this.http.get(this.url+"allbysolvabilitesite/"+i+"/"+c)}allAdmissibleBySite(i){return this.http.get(this.url+"admissiblebysite/"+i)}allAdmissBySite(i){return this.http.get(this.url+"admisbysite/"+i)}getOne(i){return this.http.get(this.url+i)}getStatistics(){return this.http.get(this.url+"statistics")}downloadCandidatureFile(){return this.http.get(this.url+"candidatures/download",{responseType:"blob"})}downloadCandidatureFileFor(i,c){return this.http.post(this.url+"filteredcandidats/download",{parcours:!0,cycle:!0,valeaurParcours:c,valeurCycle:i},{responseType:"blob"})}downloadAdmissibleCandidatureFile(){return this.http.get(this.url+"candidatures/download",{responseType:"blob"})}downloadAdmissibleCandidatureFileByZone(i){return this.http.get(this.url+"download/admissiblebyzone/"+i,{responseType:"blob"})}downloadAdmissibleCandidatureFileByCentre(i){return this.http.get(this.url+"download/admissiblebycentreexamen/"+i,{responseType:"blob"})}downloadAdmissibleCandidatureFileBySite(i){return this.http.get(this.url+"download/admissiblebysite/"+i,{responseType:"blob"})}downloadAdmissCandidatureFile(){return this.http.get(this.url+"candidatures/download",{responseType:"blob"})}downloadAdmisCandidatureFileByZone(i){return this.http.get(this.url+"download/admisbyzone/"+i,{responseType:"blob"})}downloadAdmisCandidatureFileByCentre(i){return this.http.get(this.url+"download/admisbycentreexamen/"+i,{responseType:"blob"})}downloadAdmisCandidatureFileBySite(i){return this.http.get(this.url+"download/admisbyste/"+i,{responseType:"blob"})}downloadSolvableCandidatureFile(i){return this.http.get(this.url+"download/allbysolvabilite/"+i,{responseType:"blob"})}delete(i){return this.http.delete(this.url+i)}}return o.\u0275fac=function(i){return new(i||o)(_.LFG(e.eN),_.LFG(f.x))},o.\u0275prov=_.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})()},2467:(I,y,d)=>{d.r(y),d.d(y,{ScheduleInterviewerModule:()=>V});var b=d(9808),_=d(7671),e=d(7587),f=d(3322),w=d(9930),o=d(7921),g=d(7755),i=d(9099),c=d(62),C=d(8766),x=d(7212),D=d(9783),Z=d(9142),S=d(4255),A=d(845),P=d(4036),T=d(2382),F=d(1424),E=d(5315);function J(a,p){if(1&a&&(e.TgZ(0,"li",36),e._UZ(1,"p-tag",37),e.TgZ(2,"span",38),e._uU(3),e.qZA()()),2&a){const t=p.$implicit,s=e.oxw(2);let n;e.xp6(1),e.s9C("value",null!==(n=null==(n=s.zones.get(t.idZone))?null:n.nom)&&void 0!==n?n:""),e.xp6(2),e.AsE("",t.name," ",t.prenom,"")}}function R(a,p){if(1&a&&(e.TgZ(0,"div",30)(1,"div",31)(2,"h4",32),e._uU(3),e.qZA()(),e.TgZ(4,"div",33)(5,"ul",34),e.YNc(6,J,4,3,"li",35),e.qZA()()()),2&a){const t=p.$implicit,s=e.oxw();e.xp6(3),e.Oqu(t),e.xp6(3),e.Q6J("ngForOf",s.juriesByDispo.get(t))}}function O(a,p){if(1&a){const t=e.EpF();e.TgZ(0,"div",39)(1,"div")(2,"h2"),e._uU(3,"Nouvel entretien"),e.qZA(),e.TgZ(4,"h4",40),e._uU(5),e.ALo(6,"date"),e.qZA()(),e.TgZ(7,"div")(8,"button",41),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return n.filterGroupedFormations=n.groupedFormations}),e.qZA(),e.TgZ(9,"span",42),e._UZ(10,"i",43),e.TgZ(11,"p-dropdown",44),e.NdJ("onChange",function(n){return e.CHM(t),e.oxw().handleFormationSelect(n)}),e.qZA()()()(),e.TgZ(12,"div",45),e._UZ(13,"p-tag",46),e.TgZ(14,"p-tag",47),e.NdJ("click",function(){return e.CHM(t),e.oxw().showMainDialog()}),e.qZA()()}if(2&a){const t=e.oxw();e.xp6(5),e.hij("Session de ",e.Dn7(6,7,null==t.session?null:t.session.date_examen,"MMMM","fr"),""),e.xp6(6),e.Q6J("tooltipPosition","top")("options",t.formations)("filter",!0)("showClear",!0)("showClear",!0),e.xp6(3),e.s9C("value",t.activeHoraire)}}function B(a,p){if(1&a){const t=e.EpF();e.TgZ(0,"tr"),e._UZ(1,"th")(2,"th",48),e.TgZ(3,"th",48)(4,"div",49),e._uU(5," Plage 1 "),e.TgZ(6,"p-tag",50),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return n.showDialog(n.firstPlages,1)}),e.qZA()()(),e.TgZ(7,"th",48)(8,"div",49),e._uU(9," Plage 2 "),e.TgZ(10,"p-tag",51),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return n.showDialog(n.secondPlages,2)}),e.qZA()()()()}if(2&a){const t=e.oxw();e.xp6(6),e.Q6J("value",t.plage1),e.xp6(4),e.Q6J("value",t.plage2)}}function q(a,p){if(1&a&&(e.TgZ(0,"td",56)(1,"div"),e._uU(2," Jurys disponible "),e.qZA()()),2&a){const t=e.oxw().rowspan;e.uIk("rowspan",t)}}function N(a,p){if(1&a&&(e.TgZ(0,"div",49)(1,"span"),e._uU(2),e.qZA()()),2&a){const t=p.$implicit;e.xp6(2),e.Oqu(t.label)}}function j(a,p){if(1&a){const t=e.EpF();e.TgZ(0,"p-dropdown",57),e.NdJ("onChange",function(n){e.CHM(t);const l=e.oxw().rowIndex,u=e.oxw();return u.handleCandidatSelect(n,u.plage1,l)}),e.YNc(1,N,3,1,"ng-template",58),e.qZA()}if(2&a){const t=e.oxw(2);e.Q6J("tooltipPosition","top")("options",t.filterGroupedFormations)("group",!0)("filter",!0)("showClear",!0)}}const U=function(){return[]};function H(a,p){if(1&a){const t=e.EpF();e.TgZ(0,"tr"),e.YNc(1,q,3,1,"td",52),e.TgZ(2,"td")(3,"p-dropdown",53),e.NdJ("onChange",function(n){const u=e.CHM(t).rowIndex;return e.oxw().handleInterviewerSelect(n,u)}),e.qZA()(),e.TgZ(4,"td"),e.YNc(5,j,2,5,"p-dropdown",54),e.qZA(),e.TgZ(6,"td"),e._UZ(7,"input",55),e.qZA()()}if(2&a){const t=p.rowIndex,s=p.rowgroup,n=e.oxw();let l;e.xp6(1),e.Q6J("ngIf",s),e.xp6(2),e.Q6J("tooltipPosition","top")("options",n.getAvalaibleJury(n.juriesByDispo.get(n.activeHoraire)||e.DdM(12,U),n.activeHoraire))("filter",!0)("showClear",!0)("showClear",!0)("disabled","Selectionner"==n.plage1)("readonly","Selectionner"==n.plage1),e.xp6(2),e.Q6J("ngIf","Selectionner"!=n.plage1),e.xp6(2),e.Q6J("readOnly",!0)("disabled",!0)("ngModel",null==(l=n.selectCandidatMap.get(n.currentDay.getTime()+" - "+n.activeHoraire+" - "+t+" - "+n.plage2))?null:l.label)}}function L(a,p){1&a&&(e.TgZ(0,"tr")(1,"td",59),e._uU(2,"Aucun jury disponible pour le moment."),e.qZA()())}function Y(a,p){if(1&a){const t=e.EpF();e.TgZ(0,"p-tag",62),e.NdJ("click",function(){const l=e.CHM(t).$implicit;return e.oxw(2).selectPlage(l)}),e.qZA()}2&a&&e.Q6J("value",p.$implicit)}function z(a,p){if(1&a&&(e.TgZ(0,"div",60),e.YNc(1,Y,1,1,"p-tag",61),e.qZA()),2&a){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.selectPlages)}}function k(a,p){if(1&a){const t=e.EpF();e.TgZ(0,"p-tag",62),e.NdJ("click",function(){const l=e.CHM(t).$implicit;return e.oxw(2).selectMainPlage(l)}),e.qZA()}2&a&&e.Q6J("value",p.$implicit)}function Q(a,p){if(1&a&&(e.TgZ(0,"div",60),e.YNc(1,k,1,1,"p-tag",61),e.qZA()),2&a){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.horaires)}}const $=function(){return[5,10,25,50]},W=function(){return["horaire"]},K=function(){return{width:"50vw"}},G=[{path:"",component:(()=>{class a{constructor(t,s,n,l,u,h,m,r,v,M){this.disponibilitySrv=t,this.candidatureSrv=s,this.sessionSrv=n,this.zoneService=l,this.compteSrv=u,this.commonService=h,this.noteService=m,this.compteDisponibiliteService=r,this.router=v,this.messageService=M,this.currentDay=new Date,this.visible=!1,this.canSave=!1,this.visibleMainPlage=!1,this.selectCandidatMap=new Map,this.indexCurrentDate=0,this.datesOfEntretiens=[],this.noteRequests=[],this.alreadyUseJuries=[],this.alreadyUseCandidats=[],this.activeHoraire="Selectionner",this.plage1="Selectionner",this.plage2="Selectionner",this.plageRanking=0,this.selectPlages=[],this.firstPlages=["08h00 - 08h20","09h00 - 09h20","10h00 - 10h20","11h00 - 11h20"],this.secondPlages=["08h30 - 08h50","09h30 - 09h50","10h30 - 10h50","11h30 - 11h50"],this.formations=[{name:"Ing\xe9nieur g\xe9n\xe9raliste par apprentissage ou g\xe9nie des proc\xe9d\xe9s",code:"L"},{name:"Ing\xe9nieur g\xe9n\xe9raliste parcours international",code:"OP"},{name:"Ing\xe9nieur g\xe9neraliste parcours international et innovation",code:"I"},{name:"Ing\xe9nieur g\xe9nie Informatique",code:"X"}],this.juries=[{name:"",value:"",horaire:""},{name:"",value:"",horaire:""},{horaire:"",name:"",value:""}],this.horaires=[],this.disponibilities=[],this.loading=!1,this.test={label:"FA",items:[{label:"Minyemeck danielle",candidat:{id:27,centreExamenId:17,sessionId:1,langue:"Anglais",serie_bac:null,nom_parent1:null,nom_parent2:null,email_pere:null,telephone_pere:null,email_tuteur:null,telephone_tuteur:null,email_mere:null,telephone_mere:null,telephone_paiement:null,has_exchange:!1,formation_principal:null,datePaiement:null,statut:"Admis",solvable:!1,code_examen:"24",cycle:"second",diplome_universitaire:null,compte:{id:27,name:"Minyemeck",prenom:"danielle",password:"$2a$10$iyL5gzCHSQtqTRhUu.k8Q.yZ7e.W3sJRrs7ZNwB278BLRadnZ2e3q",email:"vassistanthub@gmail.com",telephone:"675272892",role:"CANDIDAT",id_disponibilite:0},centre:"Maroua",nombre_choix:1,candidatureActif:!0,formation1:"FA",formation2:"",formation3:"",paiement:"20 000 FCFA",reference_paiement:"DE33",image:"",genre:"F",nationalite:"Camerounaise",lieu_de_naissance:"Koyom",date_naissance:"2023-02-28",dernier_Etablissement:"Leti"}}]},this.candidats=[]}getAvalaibleJury(t,s){return t.map(n=>({name:n.name+" "+n.prenom,horaire:s,value:(n.id||0)+""}))}getCandidatures(){this.candidatureSrv.liste().subscribe({next:t=>{this.candidats=t,this.groupedFormations=[];let s=t.filter(r=>"FA"===r.formation1).map(r=>({label:r.compte.name+" "+r.compte.prenom,candidat:r}));s.length>0&&this.groupedFormations.push({label:"FA",items:s});let n=t.filter(r=>"IP"===r.formation1).map(r=>({label:r.compte.name+" "+r.compte.prenom,candidat:r}));n.length>0&&this.groupedFormations.push({label:"IP",items:n});let l=t.filter(r=>"I"===r.formation1).map(r=>({label:r.compte.name+" "+r.compte.prenom,candidat:r}));l.length>0&&this.groupedFormations.push({label:"I",items:l});let u=t.filter(r=>"X"===r.formation1).map(r=>({label:r.compte.name+" "+r.compte.prenom,candidat:r}));u.length>0&&this.groupedFormations.push({label:"X",items:u});let h=t.filter(r=>"L"===r.formation1).map(r=>({label:r.compte.name+" "+r.compte.prenom,candidat:r}));h.length>0&&this.groupedFormations.push({label:"L",items:h});let m=t.filter(r=>"OP"===r.formation1).map(r=>({label:r.compte.name+" "+r.compte.prenom,candidat:r}));m.length>0&&this.groupedFormations.push({label:"OP",items:m}),this.filterGroupedFormations=this.groupedFormations}})}ngOnInit(){this.zones=new Map,this.juriesByDispo=new Map,this.noteRequestMaps=new Map,this.selectCandidatMap=new Map,this.getActiveSession(),this.getDisponibilities(),this.getCandidatures()}showDialog(t,s){this.selectPlages=t,this.plageRanking=s,this.visible=!0}showMainDialog(){this.visibleMainPlage=!0,this.visible=!0}selectMainPlage(t){this.activeHoraire=t,this.alreadyUseCandidats=[],this.alreadyUseJuries=[],this.noteRequestMaps=new Map,this.selectCandidatMap=new Map,this.noteRequests=[],t.includes("08")||t.includes("09")?(this.firstPlages=["08h00 - 08h20","09h00 - 09h20","10h00 - 10h20","11h00 - 11h20"],this.secondPlages=["08h30 - 08h50","09h30 - 09h50","10h30 - 10h50","11h30 - 11h50"]):(this.firstPlages=["13h00 - 13h20","14h00 - 14h20","15h00 - 15h20","16h00 - 16h20"],this.secondPlages=["13h30 - 13h50","14h30 - 14h50","15h30 - 15h50","16h30 - 16h50"]),this.plage1="Selectionner",this.plage2="Selectionner",this.visible=!1,this.visibleMainPlage=!1}selectPlage(t){if(this.alreadyUseJuries=[],this.alreadyUseCandidats=[],this.noteRequests=[],this.noteRequestMaps=new Map,this.selectCandidatMap=new Map,1==this.plageRanking){let s=this.firstPlages.findIndex(n=>n==t);this.plage1=t,this.plage2=this.secondPlages[s]}else{let s=this.secondPlages.findIndex(n=>n==t);this.plage2=t,this.plage1=this.firstPlages[s]}this.visible=!1}getZones(){this.zoneService.liste().subscribe({next:t=>{for(let s=0;s<t.length;s++){const n=t[s];this.zones.set(n.id||0,n)}},error:t=>{console.log("error: ",t)}})}handleInterviewerSelect(t,s){let n=t.value;if(this.alreadyUseJuries.find(u=>u.id==parseInt(n.value)))this.messageService.add({severity:"error",summary:"Erreur d'assignation",detail:"Ce jury a d\xe9j\xe0 \xe9t\xe9 utilis\xe9 pour cette plage veuillez changer de jury"});else{let u=this.currentDay.getDate()+" - "+this.currentDay.getFullYear()+" - "+this.activeHoraire+" - "+s;if(console.log("key: ",u),console.log("test: ",this.noteRequestMaps.values()),this.noteRequestMaps.has(u)){console.log("test: ",this.noteRequestMaps.values());let h=this.noteRequestMaps.get(u);this.noteRequestMaps.set(u,{compteid:parseInt(n.value),candidatureid:h.candidatureid,debut_entretien:h.debut_entretien,fin_entretien:h.fin_entretien,commentaires:""})}else this.noteRequestMaps.set(u,{compteid:parseInt(n.value),candidatureid:0,debut_entretien:new Date,fin_entretien:new Date,commentaires:""});this.alreadyUseJuries.push({rowIndex:s,id:parseInt(n.value)})}this.randomizeCandidatDisplay()}handleFormationSelect(t){let s=t.value;this.filterGroupedFormations=this.groupedFormations.filter(n=>n.label==s.code)}getActiveSession(){this.sessionSrv.getActive().subscribe({next:t=>{this.session=t}})}handleCandidatSelect(t,s,n){console.log("event.value: ",t.value);let l=t.value;if(this.alreadyUseCandidats.find(h=>h.id==l.candidat.id))this.messageService.add({severity:"error",summary:"Erreur d'assignation",detail:"Ce candidat a d\xe9j\xe0 \xe9t\xe9 utilis\xe9 pour cette plage veuillez changer de candidat"});else{let h=this.currentDay.getDate()+" - "+this.currentDay.getFullYear()+" - "+this.activeHoraire+" - "+n;if(console.log("key: ",h),console.log("test: ",this.noteRequestMaps.values()),this.noteRequestMaps.has(h)){let m=this.noteRequestMaps.get(h),r=this.commonService.buildDate(this.currentDay,s);this.noteRequestMaps.set(h,{compteid:m.compteid,candidatureid:l.candidat.id||0,debut_entretien:new Date(r.startDate),fin_entretien:new Date(r.endDate),commentaires:""}),this.selectCandidatMap.set(h,{candidat:l.candidat,label:l.candidat.compte.name+" "+l.candidat.compte.prenom})}else{let m=this.commonService.buildDate(this.currentDay,s);this.noteRequestMaps.set(h,{compteid:0,candidatureid:l.candidat.id||0,debut_entretien:new Date(m.startDate),fin_entretien:new Date(m.endDate),commentaires:""}),this.selectCandidatMap.set(h,{candidat:l.candidat,label:l.candidat.compte.name+" "+l.candidat.compte.prenom})}this.alreadyUseCandidats.push({rowIndex:n,id:l.candidat.id||0})}this.randomizeCandidatDisplay()}getCandidat(t){let s=this.candidats.find(n=>n.id==(null==t?void 0:t.candidatureid));return s?{label:s.compte.name+" "+s.compte.prenom,candidat:s}:null}getJury(t){}randomizeCandidatDisplay(){let t=(this.juriesByDispo.get(this.activeHoraire)||[]).length;if(this.alreadyUseCandidats.length==t&&this.alreadyUseJuries.length==t){for(let s=0;s<t;s++){let l=this.alreadyUseJuries[s],u=this.alreadyUseCandidats[s==t-1?0:s+1],h=this.commonService.buildDate(this.currentDay,this.plage2),m=this.currentDay.getTime()+" - "+this.activeHoraire+" - "+s+" - "+this.plage2;this.noteRequestMaps.set(m,{compteid:l.id,candidatureid:u.id,debut_entretien:new Date(h.startDate),fin_entretien:new Date(h.endDate),commentaires:""});let r=this.candidats.find(v=>v.id==u.id);r&&this.selectCandidatMap.set(m,{candidat:r,label:r.compte.name+" "+r.compte.prenom})}this.canSave=!0}}getDisponibilities(){this.disponibilitySrv.liste().subscribe({next:t=>{let s=[];this.disponibilities=t;for(let n=0;n<t.length;n++){const l=t[n];let u=new Date(l.date_disponibilite);u.setHours(0,0,0,0),s.findIndex(M=>M.getTime()==u.getTime())<=-1&&s.push(u);let v=this.commonService.formatDate(l.debut_disponibilite)+" - "+this.commonService.formatDate(l.fin_disponibilite);this.horaires.includes(v)||this.horaires.push(v)}this.datesOfEntretiens=[...new Set(s)],this.datesOfEntretiens.sort((n,l)=>n.getTime()-l.getTime()),this.indexCurrentDate=0,this.currentDay=this.datesOfEntretiens[this.indexCurrentDate],this.getCompteDisponibilite()},error:t=>{}})}getCompteDisponibilite(){this.juriesByDispo=new Map,this.compteDisponibiliteService.liste().subscribe({next:t=>{for(let s=0;s<t.length;s++){const n=t[s];let l=this.disponibilities.find(v=>v.id==n.disponibilite.id),m=this.commonService.formatDate(l.debut_disponibilite)+" - "+this.commonService.formatDate(l.fin_disponibilite);console.log("horaire: ",m);let r=new Date(l.date_disponibilite);if(r.setHours(0,0,0,0),this.currentDay.getTime()==r.getTime())if(this.juriesByDispo.has(m)){let v=this.juriesByDispo.get(m);(null==v?void 0:v.find(ee=>ee.id==n.compte.id))||null==v||v.push(n.compte)}else this.juriesByDispo.set(m,[n.compte])}}})}previousDate(t){this.indexCurrentDate>0&&(this.indexCurrentDate=this.indexCurrentDate-1,this.currentDay=this.datesOfEntretiens[this.indexCurrentDate],this.activeHoraire="Selectionner",this.plage1="Selectionner",this.plage2="Selectionner",this.alreadyUseJuries=[],this.alreadyUseCandidats=[],this.noteRequests=[],this.noteRequestMaps=new Map,this.commonService.clear(t),this.getCompteDisponibilite())}nextDate(t){this.indexCurrentDate<this.datesOfEntretiens.length&&(this.indexCurrentDate=this.indexCurrentDate+1,this.currentDay=this.datesOfEntretiens[this.indexCurrentDate],this.activeHoraire="Selectionner",this.plage1="Selectionner",this.plage2="Selectionner",this.alreadyUseJuries=[],this.alreadyUseCandidats=[],this.noteRequests=[],this.noteRequestMaps=new Map,this.commonService.clear(t),this.getCompteDisponibilite())}validate(){console.log(this.selectCandidatMap.values());let t=0,s=0;for(let n of this.noteRequestMaps.values())this.noteService.create(n).subscribe({next:l=>{this.loading=!1,t++,this.messageService.add({severity:"success",summary:"Assignation du jury pour entretien",detail:"Assignation du jury pour un entretien avec le candidat effectu\xe9e avec success pour la date du "+this.currentDay.toString()})},error:l=>{this.loading=!1,this.messageService.add({severity:"error",summary:"Erreur d'assignation",detail:l.error.message}),console.log("Error: ",l)}}),s++;t==s&&(this.alreadyUseJuries=[],this.alreadyUseCandidats=[],this.noteRequests=[],this.noteRequestMaps=new Map)}}return a.\u0275fac=function(t){return new(t||a)(e.Y36(f.T),e.Y36(w.u),e.Y36(o.K),e.Y36(g.b),e.Y36(i.D),e.Y36(c.v),e.Y36(C.Y),e.Y36(x.R),e.Y36(_.F0),e.Y36(D.ez))},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-schedule-interviewer"]],decls:39,vars:28,consts:[[1,"schedule-interviewer-page","calendrier-page","page-content"],[1,"page-title"],[1,"pi","pi-angle-right"],[1,"page-header"],[1,"line"],[1,"card","p-block-1"],[1,"main"],[1,"vh-center","gap-1","mb-3"],[1,"icon-btn-round","cursor-pointer",3,"click"],[1,"pi","pi-angle-left"],[1,"active-day"],[1,"jurys-plages"],[1,"vh-center","jurys-plages-title-content"],[1,"title"],[1,"grid"],["class","col-12 md:col-6",4,"ngFor","ngForOf"],[1,"card","mt-3"],["dataKey","id","currentPageReportTemplate","Pr\xe9sente {first} \xe0 {last} de {totalRecords} entr\xe9es","groupRowsBy","horaire","sortField","horaire","sortMode","single","rowGroupMode","rowspan",3,"value","rows","showCurrentPageReport","rowsPerPageOptions","loading","paginator","globalFilterFields"],["dt1",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],[1,"mt-2","vh-end"],["pButton","","pRipple","","type","button","label","Valider",1,"p-button-raised","p-button-success",3,"disabled","click"],["header","S\xe9lection de la plage",3,"closable","visible","modal","maximizable","draggable","resizable","visibleChange"],[1,"w-full","plage-interview-dialog"],[1,"mb-4","mt-5"],[1,"block","text-900","font-medium","mb-2"],["class","flex flex-wrap gap-3",4,"ngIf"],[1,"col-12","md:col-6"],[1,"horaire-card-title"],[1,"title","text-center"],[1,"horaire-card-content"],[1,"list-none"],["class","text-base font-semibold v-center",4,"ngFor","ngForOf"],[1,"text-base","font-semibold","v-center"],[3,"value"],[1,"ml-2"],[1,"vh-space-between","flex","justify-content-between"],[1,"text-orange-500"],["pButton","","label","Reiniatialiser","icon","pi pi-filter-slash",1,"p-button-outlined","mr-2",3,"click"],[1,"p-input-icon-left","ml-auto"],[1,"pi","pi-filter-slash"],["optionLabel","name","placeholder","Filtrer par formation prioritaire",3,"tooltipPosition","options","filter","showClear","onChange"],[1,"vh-end","flex-wrap"],["severity","danger","value","Plage horaire :","styleClass","tag-style"],["severity","danger","styleClass","tag-style basic-bg cursor-pointer",3,"value","click"],[2,"min-width","10rem"],[1,"flex","align-items-center"],["severity","danger","styleClass","ml-2  cursor-pointer",3,"value","click"],["severity","danger","styleClass","ml-2 cursor-pointer",3,"value","click"],["class","available-juries-title",4,"ngIf"],["optionLabel","name","placeholder","Choisir un intervenant",3,"tooltipPosition","options","filter","showClear","disabled","readonly","onChange"],["scrollHeight","250px","display","chip","optionLabel","label","placeholder","Choisir un candidat",3,"tooltipPosition","options","group","filter","showClear","onChange",4,"ngIf"],["type","text","pInputText","",3,"readOnly","disabled","ngModel"],[1,"available-juries-title"],["scrollHeight","250px","display","chip","optionLabel","label","placeholder","Choisir un candidat",3,"tooltipPosition","options","group","filter","showClear","onChange"],["pTemplate","group"],["colspan","3"],[1,"flex","flex-wrap","gap-3"],["styleClass","cursor-pointer tag-style basic-bg",3,"value","click",4,"ngFor","ngForOf"],["styleClass","cursor-pointer tag-style basic-bg",3,"value","click"]],template:function(t,s){if(1&t){const n=e.EpF();e.TgZ(0,"section",0)(1,"h1",1),e._uU(2," Entretiens "),e._UZ(3,"i",2),e._uU(4," Plannifications des entretiens"),e.qZA(),e.TgZ(5,"div",3),e._UZ(6,"div",4),e.qZA(),e.TgZ(7,"div",5)(8,"div",6)(9,"div",7)(10,"div",8),e.NdJ("click",function(){e.CHM(n);const u=e.MAs(25);return s.previousDate(u)}),e._UZ(11,"i",9),e.qZA(),e.TgZ(12,"h3",10),e._uU(13),e.ALo(14,"date"),e.qZA(),e.TgZ(15,"div",8),e.NdJ("click",function(){e.CHM(n);const u=e.MAs(25);return s.nextDate(u)}),e._UZ(16,"i",2),e.qZA()(),e.TgZ(17,"div",11)(18,"div",12)(19,"h3",13),e._uU(20,"Jury disponible"),e.qZA()(),e.TgZ(21,"div",14),e.YNc(22,R,7,2,"div",15),e.qZA()()()(),e.TgZ(23,"div",16)(24,"p-table",17,18),e.YNc(26,O,15,11,"ng-template",19),e.YNc(27,B,11,2,"ng-template",20),e.YNc(28,H,8,13,"ng-template",21),e.YNc(29,L,3,0,"ng-template",22),e.qZA(),e.TgZ(30,"div",23)(31,"button",24),e.NdJ("click",function(){return s.validate()}),e.qZA()()()(),e.TgZ(32,"p-dialog",25),e.NdJ("visibleChange",function(u){return s.visible=u}),e.TgZ(33,"div",26)(34,"div",27)(35,"label",28),e._uU(36,"Plages"),e.qZA(),e.YNc(37,z,2,1,"div",29),e.YNc(38,Q,2,1,"div",29),e.qZA()()()}2&t&&(e.xp6(13),e.hij(" ",e.Dn7(14,20,s.currentDay,"EEEE dd MMMM yyyy","fr")," "),e.xp6(9),e.Q6J("ngForOf",s.horaires),e.xp6(2),e.Q6J("value",s.juriesByDispo.get(s.activeHoraire)||e.DdM(24,U))("rows",5)("showCurrentPageReport",!0)("rowsPerPageOptions",e.DdM(25,$))("loading",s.loading)("paginator",!0)("globalFilterFields",e.DdM(26,W)),e.xp6(7),e.Q6J("disabled",!s.canSave),e.xp6(1),e.Akn(e.DdM(27,K)),e.Q6J("closable",!0)("visible",s.visible)("modal",!0)("maximizable",!0)("draggable",!1)("resizable",!1),e.xp6(5),e.Q6J("ngIf",!s.visibleMainPlage),e.xp6(1),e.Q6J("ngIf",s.visibleMainPlage))},directives:[b.sg,Z.V,S.iA,D.jx,A.Hq,P.Lt,b.O5,T.Fj,F.o,T.JJ,T.On,E.V],pipes:[b.uU],encapsulation:2}),a})()}];let X=(()=>{class a{}return a.\u0275fac=function(t){return new(t||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({imports:[[_.Bz.forChild(G)],_.Bz]}),a})(),V=(()=>{class a{}return a.\u0275fac=function(t){return new(t||a)},a.\u0275mod=e.oAB({type:a}),a.\u0275inj=e.cJS({imports:[[b.ez,X,Z.W,P.kW,S.U$,A.hJ,F.j,T.u5,E.S]]}),a})()},62:(I,y,d)=>{d.d(y,{v:()=>e});var b=d(9808),_=d(7587);let e=(()=>{class f{constructor(){}calculerJours(o,g){var i=Math.abs(g-o);return Math.floor(i/864e5)}clear(o){o.clear()}getStatuses(){return[{label:!1,value:"A faire"},{label:!0,value:"R\xe9alis\xe9"}]}getSeverity(o){switch(o){case!1:return"danger";case!0:return"success";default:return"warning"}}getStatusLabel(o){switch(o){case!1:return"A faire";case!0:return"R\xe9alis\xe9";default:return""}}getFormationLabel(o){return"Ing\xe9nieur g\xe9n\xe9raliste parcours international"==o?"OP":"Ing\xe9nieur g\xe9n\xe9raliste par apprentissage ou g\xe9nie des proc\xe9d\xe9s"==o?"L":"Ing\xe9nieur genie des proc\xe9d\xe9s"==o?"IP":"Ing\xe9nieur g\xe9neraliste parcours international et innovation"==o?"I":"Ing\xe9nieur g\xe9nie Informtique"==o?"X":""}genererDates(o,g){let i=this.calculerJours(o,g);console.log("nombre jour:",i);let c=[],C=new Date(o);c.push(new Date(o));for(let x=0;x<i;x++)C.setDate(C.getDate()+1),c.push(new Date(C));return c}formatDate(o){let i=(0,b.p6)(o,"shortTime","fr-FR").split(":");return i[0]+"h"+i[1]}buildDateWithTime(o){const g=new Date;return new Date(`${g.getFullYear()}-${g.getMonth()+1}-${g.getDate()} ${o}`)}buildDate(o,g){let c,C,i=g.split("-"),D=i[0].split("h");o.setHours(parseInt(D[0],10)+1),o.setMinutes(parseInt(D[1],10)),c=o.getTime();let S=i[1].split("h");return o.setHours(parseInt(S[0],10)+1),o.setMinutes(parseInt(S[1],10)),C=o.getTime(),{startDate:c,endDate:C}}}return f.\u0275fac=function(o){return new(o||f)},f.\u0275prov=_.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"}),f})()},7755:(I,y,d)=>{d.d(y,{b:()=>w});var b=d(2340),_=d(7587),e=d(520),f=d(4920);let w=(()=>{class o{constructor(i,c){this.http=i,this.baseUrlSvr=c,this.url="",this.url=`${this.baseUrlSvr.getOrigin()}${b.N.administrationPath}`,this.url+="zone/"}liste(){return this.http.get(this.url+"all")}getOne(i){return this.http.get(this.url+i)}create(i){return this.http.post(this.url+"create",i)}update(i){return this.http.patch(this.url+(null==i?void 0:i.id),i)}delete(i){return this.http.delete(this.url+i)}}return o.\u0275fac=function(i){return new(i||o)(_.LFG(e.eN),_.LFG(f.x))},o.\u0275prov=_.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})()}}]);