"use strict";(self.webpackChunkadmin_ucac_dashboard=self.webpackChunkadmin_ucac_dashboard||[]).push([[463],{4463:(L,M,u)=>{u.r(M),u.d(M,{ScheduleDisponibilityModule:()=>bt});var o=u(9808),D=u(2382),S=u(7671),C=u(5193),t=u(7587),c=u(3322),p=u(7921),g=u(9099),b=u(62),T=u(1303),I=u(7212),v=u(9783),k=u(5787),E=u(5921);const F=["itemsContainer"];function h(n,r){1&n&&t.GkF(0)}function y(n,r){if(1&n&&(t.TgZ(0,"div",11),t.Hsn(1),t.YNc(2,h,1,0,"ng-container",12),t.qZA()),2&n){const e=t.oxw();t.xp6(2),t.Q6J("ngTemplateOutlet",e.headerTemplate)}}const a=function(n){return{"p-carousel-prev p-link":!0,"p-disabled":n}},m=function(n,r){return{"p-carousel-prev-icon pi":!0,"pi-chevron-left":n,"pi-chevron-up":r}};function f(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"button",13),t.NdJ("click",function(s){return t.CHM(e),t.oxw().navBackward(s)}),t._UZ(1,"span",2),t.qZA()}if(2&n){const e=t.oxw();t.Q6J("ngClass",t.VKq(3,a,e.isBackwardNavDisabled()))("disabled",e.isBackwardNavDisabled()),t.xp6(1),t.Q6J("ngClass",t.WLB(5,m,!e.isVertical(),e.isVertical()))}}function x(n,r){1&n&&t.GkF(0)}const V=function(n,r,e){return{"p-carousel-item p-carousel-item-cloned":!0,"p-carousel-item-active":n,"p-carousel-item-start":r,"p-carousel-item-end":e}},A=function(n){return{$implicit:n}};function O(n,r){if(1&n&&(t.TgZ(0,"div",2),t.YNc(1,x,1,0,"ng-container",14),t.qZA()),2&n){const e=r.$implicit,i=r.index,s=t.oxw();t.Q6J("ngClass",t.kEZ(3,V,-1*s.totalShiftedItems===s.value.length,0===i,s.clonedItemsForStarting.length-1===i)),t.xp6(1),t.Q6J("ngTemplateOutlet",s.itemTemplate)("ngTemplateOutletContext",t.VKq(7,A,e))}}function J(n,r){1&n&&t.GkF(0)}const N=function(n,r,e){return{"p-carousel-item":!0,"p-carousel-item-active":n,"p-carousel-item-start":r,"p-carousel-item-end":e}};function Y(n,r){if(1&n&&(t.TgZ(0,"div",2),t.YNc(1,J,1,0,"ng-container",14),t.qZA()),2&n){const e=r.$implicit,i=r.index,s=t.oxw();t.Q6J("ngClass",t.kEZ(3,N,s.firstIndex()<=i&&s.lastIndex()>=i,s.firstIndex()===i,s.lastIndex()===i)),t.xp6(1),t.Q6J("ngTemplateOutlet",s.itemTemplate)("ngTemplateOutletContext",t.VKq(7,A,e))}}function Q(n,r){1&n&&t.GkF(0)}function j(n,r){if(1&n&&(t.TgZ(0,"div",2),t.YNc(1,Q,1,0,"ng-container",14),t.qZA()),2&n){const e=r.$implicit,i=r.index,s=t.oxw();t.Q6J("ngClass",t.kEZ(3,V,-1*s.totalShiftedItems===s.numVisible,0===i,s.clonedItemsForFinishing.length-1===i)),t.xp6(1),t.Q6J("ngTemplateOutlet",s.itemTemplate)("ngTemplateOutletContext",t.VKq(7,A,e))}}const z=function(n){return{"p-carousel-next p-link":!0,"p-disabled":n}},H=function(n,r){return{"p-carousel-prev-icon pi":!0,"pi-chevron-right":n,"pi-chevron-down":r}};function U(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"button",13),t.NdJ("click",function(s){return t.CHM(e),t.oxw().navForward(s)}),t._UZ(1,"span",2),t.qZA()}if(2&n){const e=t.oxw();t.Q6J("ngClass",t.VKq(3,z,e.isForwardNavDisabled()))("disabled",e.isForwardNavDisabled()),t.xp6(1),t.Q6J("ngClass",t.WLB(5,H,!e.isVertical(),e.isVertical()))}}const $=function(n){return{"p-carousel-indicator":!0,"p-highlight":n}};function q(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"li",2)(1,"button",15),t.NdJ("click",function(s){const d=t.CHM(e).index;return t.oxw(2).onDotClick(s,d)}),t.qZA()()}if(2&n){const e=r.index,i=t.oxw(2);t.Q6J("ngClass",t.VKq(5,$,i._page===e)),t.xp6(1),t.Tol(i.indicatorStyleClass),t.Q6J("ngClass","p-link")("ngStyle",i.indicatorStyle)}}function K(n,r){if(1&n&&(t.TgZ(0,"ul",0),t.YNc(1,q,2,7,"li",8),t.qZA()),2&n){const e=t.oxw();t.Tol(e.indicatorsContentClass),t.Q6J("ngClass","p-carousel-indicators p-reset")("ngStyle",e.indicatorsContentStyle),t.xp6(1),t.Q6J("ngForOf",e.totalDotsArray())}}function W(n,r){1&n&&t.GkF(0)}function G(n,r){if(1&n&&(t.TgZ(0,"div",16),t.Hsn(1,1),t.YNc(2,W,1,0,"ng-container",12),t.qZA()),2&n){const e=t.oxw();t.xp6(2),t.Q6J("ngTemplateOutlet",e.footerTemplate)}}const X=[[["p-header"]],[["p-footer"]]],tt=function(n,r){return{"p-carousel p-component":!0,"p-carousel-vertical":n,"p-carousel-horizontal":r}},et=function(n){return{height:n}},it=["p-header","p-footer"];let nt=(()=>{class n{constructor(e,i,s){this.el=e,this.zone=i,this.cd=s,this.orientation="horizontal",this.verticalViewPortHeight="300px",this.contentClass="",this.indicatorsContentClass="",this.indicatorStyleClass="",this.circular=!1,this.showIndicators=!0,this.showNavigators=!0,this.autoplayInterval=0,this.onPage=new t.vpe,this._numVisible=1,this._numScroll=1,this._oldNumScroll=0,this.prevState={numScroll:0,numVisible:0,value:[]},this.defaultNumScroll=1,this.defaultNumVisible=1,this._page=0,this.isRemainingItemsAdded=!1,this.remainingItems=0,this.swipeThreshold=20,this.totalShiftedItems=this.page*this.numScroll*-1}get page(){return this._page}set page(e){this.isCreated&&e!==this._page&&(this.autoplayInterval&&(this.stopAutoplay(),this.allowAutoplay=!1),e>this._page&&e<=this.totalDots()-1?this.step(-1,e):e<this._page&&this.step(1,e)),this._page=e}get numVisible(){return this._numVisible}set numVisible(e){this._numVisible=e}get numScroll(){return this._numVisible}set numScroll(e){this._numScroll=e}get value(){return this._value}set value(e){this._value=e}ngOnChanges(e){e.value&&this.circular&&this._value&&this.setCloneItems(),this.isCreated&&(e.numVisible&&(this.responsiveOptions&&(this.defaultNumVisible=this.numVisible),this.isCircular()&&this.setCloneItems(),this.createStyle(),this.calculatePosition()),e.numScroll&&this.responsiveOptions&&(this.defaultNumScroll=this.numScroll))}ngAfterContentInit(){this.id=(0,E.Th)(),this.allowAutoplay=!!this.autoplayInterval,this.circular&&this.setCloneItems(),this.responsiveOptions&&(this.defaultNumScroll=this._numScroll,this.defaultNumVisible=this._numVisible),this.createStyle(),this.calculatePosition(),this.responsiveOptions&&this.bindDocumentListeners(),this.templates.forEach(e=>{switch(e.getType()){case"item":default:this.itemTemplate=e.template;break;case"header":this.headerTemplate=e.template;break;case"footer":this.footerTemplate=e.template}})}ngAfterContentChecked(){const e=this.isCircular();let i=this.totalShiftedItems;if(this.value&&this.itemsContainer&&(this.prevState.numScroll!==this._numScroll||this.prevState.numVisible!==this._numVisible||this.prevState.value.length!==this.value.length)){this.autoplayInterval&&this.stopAutoplay(),this.remainingItems=(this.value.length-this._numVisible)%this._numScroll;let s=this._page;0!==this.totalDots()&&s>=this.totalDots()&&(s=this.totalDots()-1,this._page=s,this.onPage.emit({page:this.page})),i=s*this._numScroll*-1,e&&(i-=this._numVisible),s===this.totalDots()-1&&this.remainingItems>0?(i+=-1*this.remainingItems+this._numScroll,this.isRemainingItemsAdded=!0):this.isRemainingItemsAdded=!1,i!==this.totalShiftedItems&&(this.totalShiftedItems=i),this._oldNumScroll=this._numScroll,this.prevState.numScroll=this._numScroll,this.prevState.numVisible=this._numVisible,this.prevState.value=[...this._value],this.totalDots()>0&&this.itemsContainer.nativeElement&&(this.itemsContainer.nativeElement.style.transform=this.isVertical()?`translate3d(0, ${i*(100/this._numVisible)}%, 0)`:`translate3d(${i*(100/this._numVisible)}%, 0, 0)`),this.isCreated=!0,this.autoplayInterval&&this.isAutoplay()&&this.startAutoplay()}e&&(0===this.page?i=-1*this._numVisible:0===i&&(i=-1*this.value.length,this.remainingItems>0&&(this.isRemainingItemsAdded=!0)),i!==this.totalShiftedItems&&(this.totalShiftedItems=i))}createStyle(){this.carouselStyle||(this.carouselStyle=document.createElement("style"),this.carouselStyle.type="text/css",document.body.appendChild(this.carouselStyle));let e=`\n            #${this.id} .p-carousel-item {\n\t\t\t\tflex: 1 0 ${100/this.numVisible}%\n\t\t\t}\n        `;if(this.responsiveOptions){this.responsiveOptions.sort((i,s)=>{const l=i.breakpoint,d=s.breakpoint;let _=null;return _=null==l&&null!=d?-1:null!=l&&null==d?1:null==l&&null==d?0:"string"==typeof l&&"string"==typeof d?l.localeCompare(d,void 0,{numeric:!0}):l<d?-1:l>d?1:0,-1*_});for(let i=0;i<this.responsiveOptions.length;i++){let s=this.responsiveOptions[i];e+=`\n                    @media screen and (max-width: ${s.breakpoint}) {\n                        #${this.id} .p-carousel-item {\n                            flex: 1 0 ${100/s.numVisible}%\n                        }\n                    }\n                `}}this.carouselStyle.innerHTML=e}calculatePosition(){if(this.responsiveOptions){let e=window.innerWidth,i={numVisible:this.defaultNumVisible,numScroll:this.defaultNumScroll};for(let s=0;s<this.responsiveOptions.length;s++){let l=this.responsiveOptions[s];parseInt(l.breakpoint,10)>=e&&(i=l)}if(this._numScroll!==i.numScroll){let s=this._page;s=Math.floor(s*this._numScroll/i.numScroll);let l=i.numScroll*this.page*-1;this.isCircular()&&(l-=i.numVisible),this.totalShiftedItems=l,this._numScroll=i.numScroll,this._page=s,this.onPage.emit({page:this.page})}this._numVisible!==i.numVisible&&(this._numVisible=i.numVisible,this.setCloneItems()),this.cd.markForCheck()}}setCloneItems(){this.clonedItemsForStarting=[],this.clonedItemsForFinishing=[],this.isCircular()&&(this.clonedItemsForStarting.push(...this.value.slice(-1*this._numVisible)),this.clonedItemsForFinishing.push(...this.value.slice(0,this._numVisible)))}firstIndex(){return this.isCircular()?-1*(this.totalShiftedItems+this.numVisible):-1*this.totalShiftedItems}lastIndex(){return this.firstIndex()+this.numVisible-1}totalDots(){return this.value?Math.ceil((this.value.length-this._numVisible)/this._numScroll)+1:0}totalDotsArray(){const e=this.totalDots();return e<=0?[]:Array(e).fill(0)}isVertical(){return"vertical"===this.orientation}isCircular(){return this.circular&&this.value&&this.value.length>=this.numVisible}isAutoplay(){return this.autoplayInterval&&this.allowAutoplay}isForwardNavDisabled(){return this.isEmpty()||this._page>=this.totalDots()-1&&!this.isCircular()}isBackwardNavDisabled(){return this.isEmpty()||this._page<=0&&!this.isCircular()}isEmpty(){return!this.value||0===this.value.length}navForward(e,i){(this.isCircular()||this._page<this.totalDots()-1)&&this.step(-1,i),this.autoplayInterval&&(this.stopAutoplay(),this.allowAutoplay=!1),e&&e.cancelable&&e.preventDefault()}navBackward(e,i){(this.isCircular()||0!==this._page)&&this.step(1,i),this.autoplayInterval&&(this.stopAutoplay(),this.allowAutoplay=!1),e&&e.cancelable&&e.preventDefault()}onDotClick(e,i){let s=this._page;this.autoplayInterval&&(this.stopAutoplay(),this.allowAutoplay=!1),i>s?this.navForward(e,i):i<s&&this.navBackward(e,i)}step(e,i){let s=this.totalShiftedItems;const l=this.isCircular();null!=i?(s=this._numScroll*i*-1,l&&(s-=this._numVisible),this.isRemainingItemsAdded=!1):(s+=this._numScroll*e,this.isRemainingItemsAdded&&(s+=this.remainingItems-this._numScroll*e,this.isRemainingItemsAdded=!1),i=Math.abs(Math.floor((l?s+this._numVisible:s)/this._numScroll))),l&&this.page===this.totalDots()-1&&-1===e?(s=-1*(this.value.length+this._numVisible),i=0):l&&0===this.page&&1===e?(s=0,i=this.totalDots()-1):i===this.totalDots()-1&&this.remainingItems>0&&(s+=-1*this.remainingItems-this._numScroll*e,this.isRemainingItemsAdded=!0),this.itemsContainer&&(this.itemsContainer.nativeElement.style.transform=this.isVertical()?`translate3d(0, ${s*(100/this._numVisible)}%, 0)`:`translate3d(${s*(100/this._numVisible)}%, 0, 0)`,this.itemsContainer.nativeElement.style.transition="transform 500ms ease 0s"),this.totalShiftedItems=s,this._page=i,this.onPage.emit({page:this.page})}startAutoplay(){this.interval=setInterval(()=>{this.totalDots()>0&&(this.page===this.totalDots()-1?this.step(-1,0):this.step(-1,this.page+1))},this.autoplayInterval)}stopAutoplay(){this.interval&&clearInterval(this.interval)}onTransitionEnd(){this.itemsContainer&&(this.itemsContainer.nativeElement.style.transition="",(0===this.page||this.page===this.totalDots()-1)&&this.isCircular()&&(this.itemsContainer.nativeElement.style.transform=this.isVertical()?`translate3d(0, ${this.totalShiftedItems*(100/this._numVisible)}%, 0)`:`translate3d(${this.totalShiftedItems*(100/this._numVisible)}%, 0, 0)`))}onTouchStart(e){let i=e.changedTouches[0];this.startPos={x:i.pageX,y:i.pageY}}onTouchMove(e){e.cancelable&&e.preventDefault()}onTouchEnd(e){let i=e.changedTouches[0];this.isVertical()?this.changePageOnTouch(e,i.pageY-this.startPos.y):this.changePageOnTouch(e,i.pageX-this.startPos.x)}changePageOnTouch(e,i){Math.abs(i)>this.swipeThreshold&&(i<0?this.navForward(e):this.navBackward(e))}bindDocumentListeners(){this.documentResizeListener||(this.documentResizeListener=e=>{this.calculatePosition()},window.addEventListener("resize",this.documentResizeListener))}unbindDocumentListeners(){this.documentResizeListener&&(window.removeEventListener("resize",this.documentResizeListener),this.documentResizeListener=null)}ngOnDestroy(){this.responsiveOptions&&this.unbindDocumentListeners(),this.autoplayInterval&&this.stopAutoplay()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(t.SBq),t.Y36(t.R0b),t.Y36(t.sBO))},n.\u0275cmp=t.Xpm({type:n,selectors:[["p-carousel"]],contentQueries:function(e,i,s){if(1&e&&(t.Suo(s,v.h4,5),t.Suo(s,v.$_,5),t.Suo(s,v.jx,4)),2&e){let l;t.iGM(l=t.CRH())&&(i.headerFacet=l.first),t.iGM(l=t.CRH())&&(i.footerFacet=l.first),t.iGM(l=t.CRH())&&(i.templates=l)}},viewQuery:function(e,i){if(1&e&&t.Gf(F,5),2&e){let s;t.iGM(s=t.CRH())&&(i.itemsContainer=s.first)}},hostAttrs:[1,"p-element"],inputs:{page:"page",numVisible:"numVisible",numScroll:"numScroll",responsiveOptions:"responsiveOptions",orientation:"orientation",verticalViewPortHeight:"verticalViewPortHeight",contentClass:"contentClass",indicatorsContentClass:"indicatorsContentClass",indicatorsContentStyle:"indicatorsContentStyle",indicatorStyleClass:"indicatorStyleClass",indicatorStyle:"indicatorStyle",value:"value",circular:"circular",showIndicators:"showIndicators",showNavigators:"showNavigators",autoplayInterval:"autoplayInterval",style:"style",styleClass:"styleClass"},outputs:{onPage:"onPage"},features:[t.TTD],ngContentSelectors:it,decls:14,vars:22,consts:[[3,"ngClass","ngStyle"],["class","p-carousel-header",4,"ngIf"],[3,"ngClass"],[1,"p-carousel-container"],["type","button","pRipple","",3,"ngClass","disabled","click",4,"ngIf"],[1,"p-carousel-items-content",3,"ngStyle"],[1,"p-carousel-items-container",3,"transitionend","touchend","touchstart","touchmove"],["itemsContainer",""],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass","class","ngStyle",4,"ngIf"],["class","p-carousel-footer",4,"ngIf"],[1,"p-carousel-header"],[4,"ngTemplateOutlet"],["type","button","pRipple","",3,"ngClass","disabled","click"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["type","button",3,"ngClass","ngStyle","click"],[1,"p-carousel-footer"]],template:function(e,i){1&e&&(t.F$t(X),t.TgZ(0,"div",0),t.YNc(1,y,3,1,"div",1),t.TgZ(2,"div",2)(3,"div",3),t.YNc(4,f,2,8,"button",4),t.TgZ(5,"div",5)(6,"div",6,7),t.NdJ("transitionend",function(){return i.onTransitionEnd()})("touchend",function(l){return i.onTouchEnd(l)})("touchstart",function(l){return i.onTouchStart(l)})("touchmove",function(l){return i.onTouchMove(l)}),t.YNc(8,O,2,9,"div",8),t.YNc(9,Y,2,9,"div",8),t.YNc(10,j,2,9,"div",8),t.qZA()(),t.YNc(11,U,2,8,"button",4),t.qZA(),t.YNc(12,K,2,5,"ul",9),t.qZA(),t.YNc(13,G,3,1,"div",10),t.qZA()),2&e&&(t.Tol(i.styleClass),t.Q6J("ngClass",t.WLB(17,tt,i.isVertical(),!i.isVertical()))("ngStyle",i.style),t.uIk("id",i.id),t.xp6(1),t.Q6J("ngIf",i.headerFacet||i.headerTemplate),t.xp6(1),t.Tol(i.contentClass),t.Q6J("ngClass","p-carousel-content"),t.xp6(2),t.Q6J("ngIf",i.showNavigators),t.xp6(1),t.Q6J("ngStyle",t.VKq(20,et,i.isVertical()?i.verticalViewPortHeight:"auto")),t.xp6(3),t.Q6J("ngForOf",i.clonedItemsForStarting),t.xp6(1),t.Q6J("ngForOf",i.value),t.xp6(1),t.Q6J("ngForOf",i.clonedItemsForFinishing),t.xp6(1),t.Q6J("ngIf",i.showNavigators),t.xp6(1),t.Q6J("ngIf",i.showIndicators),t.xp6(1),t.Q6J("ngIf",i.footerFacet||i.footerTemplate))},directives:[o.mk,o.PC,o.O5,o.tP,k.H,o.sg],styles:[".p-carousel{display:flex;flex-direction:column}.p-carousel-content{display:flex;flex-direction:column;overflow:auto}.p-carousel-prev,.p-carousel-next{align-self:center;flex-grow:0;flex-shrink:0;display:flex;justify-content:center;align-items:center;overflow:hidden;position:relative}.p-carousel-container{display:flex;flex-direction:row}.p-carousel-items-content{overflow:hidden;width:100%}.p-carousel-items-container{display:flex;flex-direction:row}.p-carousel-indicators{display:flex;flex-direction:row;justify-content:center;flex-wrap:wrap}.p-carousel-indicator>button{display:flex;align-items:center;justify-content:center}.p-carousel-vertical .p-carousel-container{flex-direction:column}.p-carousel-vertical .p-carousel-items-container{flex-direction:column;height:100%}.p-items-hidden .p-carousel-item{visibility:hidden}.p-items-hidden .p-carousel-item.p-carousel-item-active{visibility:visible}\n"],encapsulation:2,changeDetection:0}),n})(),st=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[o.ez,v.m8,k.T],o.ez,v.m8]}),n})();var B=u(845),R=u(7773),P=u(7307);function ot(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div",25)(1,"input",26),t.NdJ("change",function(s){const d=t.CHM(e).index,_=t.oxw().$implicit;return t.oxw().selectHoraire(s,_,d)}),t.qZA(),t.TgZ(2,"label",27),t._uU(3),t.qZA()()}if(2&n){const e=r.$implicit,i=r.index,s=t.oxw().$implicit;t.xp6(1),t.MGl("id","checkbox",i,""),t.s9C("name",s.key),t.Q6J("value",e),t.xp6(1),t.Q6J("for",e),t.xp6(1),t.hij(" ",e," ")}}function rt(n,r){if(1&n&&(t.TgZ(0,"div",20)(1,"div",21)(2,"h3",22),t._uU(3),t.ALo(4,"date"),t.qZA(),t.TgZ(5,"div",23),t.YNc(6,ot,4,5,"div",24),t.qZA()()()),2&n){const e=r.$implicit;t.xp6(3),t.Oqu(t.Dn7(4,2,e.jour,"EEEE dd MMMM yyyy","fr")),t.xp6(3),t.Q6J("ngForOf",e.horaires)}}const at=[{path:"",component:(()=>{class n{constructor(e,i,s,l,d,_,w,Z){this.disponibilitySrv=e,this.sessionSrv=i,this.compteSrv=s,this.commonService=l,this.storageService=d,this.compteDisponibiliteService=_,this.router=w,this.messageService=Z,this.juries=[],this.selectedHoraire="",this.i=0,this.beginDate=new Date,this.endDate=new Date,this.horaires=["08:00 - 13h00","14:00 - 17h00"],this.responsiveOptions=[{breakpoint:"1199px",numVisible:1,numScroll:1},{breakpoint:"991px",numVisible:2,numScroll:1},{breakpoint:"767px",numVisible:1,numScroll:1}],this.disponibilities=[]}ngOnInit(){this.getDisponibilities(),this.disponibilityMap=new Map,this.juriesByDispo=new Map,this.getActiveSession(),this.userConnected=this.storageService.getUserConnected(),this.userConnected.role==C.u.ADMIN&&this.getJuryComptes()}getActiveSession(){this.sessionSrv.getActive().subscribe({next:e=>{this.session=e}})}getJuryComptes(){this.compteSrv.findByRole(C.u.JURY).subscribe({next:e=>{this.juries=e},error:e=>{console.log("error: ",e)}})}selectHoraire(e,i,s){this.juriesByDispo.set(e.target.value+" - "+i.key,i.disponibilityIds[s])}validate(){let e=0,i=0;for(let s of this.juriesByDispo.values())i+=1,this.compteDisponibiliteService.create({disponibilite_id:s,compteId:this.userConnected.id||0}).subscribe({next:l=>{this.messageService.add({severity:"success",summary:"Selection de la plage",detail:"Selection de la plage \xe9ffectu\xe9e avec success"}),e+=1},error:l=>{console.log("Error: ",l),this.messageService.add({severity:"error",summary:"Erreur de s\xe9lection de la plage",detail:l.error.message})}});e>=i&&this.router.navigate(["calendrier_entretiens"])}getDisponibilities(){this.disponibilitySrv.liste().subscribe({next:e=>{if(e.length>0){this.beginDate=new Date(e[0].date_disponibilite);for(let i=0;i<e.length;i++){const s=e[i];let l=this.commonService.formatDate(s.debut_disponibilite),d=this.commonService.formatDate(s.fin_disponibilite);this.beginDate=new Date(s.date_disponibilite).getTime()-this.beginDate.getTime()>0?this.beginDate:new Date(s.date_disponibilite),this.endDate=new Date(s.date_disponibilite).getTime()-this.beginDate.getTime()>0?new Date(s.date_disponibilite):this.beginDate;let _=l+" - "+d,w=new Date(s.date_disponibilite).getDate()+"-"+new Date(s.date_disponibilite).getMonth()+"-"+new Date(s.date_disponibilite).getFullYear();if(this.disponibilityMap.has(w)){let Z=this.disponibilityMap.get(w);this.disponibilityMap.set(w,{key:w,disponibilityIds:[...Z.disponibilityIds,s.id||0],horaires:[...Z.horaires,_],jour:s.date_disponibilite})}else this.disponibilityMap.set(w,{key:w,disponibilityIds:[s.id||0],horaires:[_],jour:s.date_disponibilite})}this.disponibilities=[...this.disponibilityMap.values()]}},error:e=>{}})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(c.T),t.Y36(p.K),t.Y36(g.D),t.Y36(b.v),t.Y36(T.V),t.Y36(I.R),t.Y36(S.F0),t.Y36(v.ez))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-schedule-disponibility"]],decls:38,vars:15,consts:[[1,"compte-page","schedule-disponibility","page-content"],[1,"page-title"],[1,"pi","pi-angle-right"],[1,"page-header"],[1,"header"],[1,"title"],[1,"subtitle"],[1,"text"],[1,"line"],[1,"mt-2","plage-content"],[1,"plage-header","v-center"],[1,"vh-center","plage_title"],[1,"vh-center"],[1,"limit"],[1,"main"],[1,"card"],[3,"value","numVisible","numScroll","circular","responsiveOptions"],["pTemplate","item"],[1,"mt-2","vh-end"],["pButton","","pRipple","","type","button","label","Valider",1,"p-button-raised","p-button-success",3,"click"],[1,"p-1"],[1,"disponibility-card"],[1,"disponibility_title"],[1,"flex","flex-column","gap-3","mb-1"],["class","field-checkbox mb-1",4,"ngFor","ngForOf"],[1,"field-checkbox","mb-1"],["type","checkbox",3,"id","name","value","change"],[1,"ml-2",3,"for"]],template:function(e,i){1&e&&(t.TgZ(0,"section",0)(1,"h1",1),t._uU(2," Entretiens "),t._UZ(3,"i",2),t._uU(4," Gestion de votre disponibilit\xe9"),t.qZA(),t.TgZ(5,"div",3)(6,"div",4)(7,"h3",5),t._uU(8,"Ajoutez votre disponibilit\xe9"),t.qZA(),t.TgZ(9,"h4",6),t._uU(10,"Comment Planifier :"),t.qZA(),t.TgZ(11,"p",7),t._uU(12,"Veuillez s\xe9lectionner une plage horaire disponible et nous vous attribuerons un cr\xe9neau horaire sp\xe9cifique pour votre entretien. Merci de tenir compte des plages horaires mentionn\xe9es ci-dessous lors de votre choix."),t.qZA()(),t._UZ(13,"div",8),t.qZA(),t.TgZ(14,"div",9)(15,"div",10)(16,"div",11)(17,"span"),t._uU(18,"Plage des entretiens"),t.qZA()(),t.TgZ(19,"div",12)(20,"span"),t._uU(21),t.ALo(22,"date"),t.qZA()(),t.TgZ(23,"div",13)(24,"span"),t._uU(25,"au"),t.qZA()(),t.TgZ(26,"div",12)(27,"span"),t._uU(28),t.ALo(29,"date"),t.qZA()()(),t.TgZ(30,"div",14)(31,"div",15)(32,"p-carousel",16),t.YNc(33,rt,7,6,"ng-template",17),t.qZA()(),t.TgZ(34,"div",18)(35,"button",19),t.NdJ("click",function(){return i.validate()}),t.qZA()()()()(),t._UZ(36,"p-toast")(37,"p-confirmPopup")),2&e&&(t.xp6(21),t.Oqu(t.Dn7(22,7,i.beginDate,"dd MMMM yyyy","fr")),t.xp6(7),t.Oqu(t.Dn7(29,11,i.endDate,"dd MMMM yyyy","fr")),t.xp6(4),t.Q6J("value",i.disponibilities)("numVisible",4)("numScroll",4)("circular",!0)("responsiveOptions",i.responsiveOptions))},directives:[nt,v.jx,o.sg,B.Hq,R.FN,P.P],pipes:[o.uU],encapsulation:2}),n})()}];let lt=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[S.Bz.forChild(at)],S.Bz]}),n})();var ct=u(4466);const ut=["rb"],pt=function(n,r,e){return{"p-radiobutton-label":!0,"p-radiobutton-label-active":n,"p-disabled":r,"p-radiobutton-label-focus":e}};function ht(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"label",4),t.NdJ("click",function(s){return t.CHM(e),t.oxw().select(s)}),t._uU(1),t.qZA()}if(2&n){const e=t.oxw(),i=t.MAs(3);t.Tol(e.labelStyleClass),t.Q6J("ngClass",t.kEZ(5,pt,i.checked,e.disabled,e.focused)),t.uIk("for",e.inputId),t.xp6(1),t.Oqu(e.label)}}const dt=function(n,r,e){return{"p-radiobutton p-component":!0,"p-radiobutton-checked":n,"p-radiobutton-disabled":r,"p-radiobutton-focused":e}},mt=function(n,r,e){return{"p-radiobutton-box":!0,"p-highlight":n,"p-disabled":r,"p-focus":e}},ft={provide:D.JU,useExisting:(0,t.Gpc)(()=>_t),multi:!0};let gt=(()=>{class n{constructor(){this.accessors=[]}add(e,i){this.accessors.push([e,i])}remove(e){this.accessors=this.accessors.filter(i=>i[1]!==e)}select(e){this.accessors.forEach(i=>{this.isSameGroup(i,e)&&i[1]!==e&&i[1].writeValue(e.value)})}isSameGroup(e,i){return!!e[0].control&&e[0].control.root===i.control.control.root&&e[1].name===i.name}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),_t=(()=>{class n{constructor(e,i,s){this.cd=e,this.injector=i,this.registry=s,this.onClick=new t.vpe,this.onFocus=new t.vpe,this.onBlur=new t.vpe,this.onModelChange=()=>{},this.onModelTouched=()=>{}}ngOnInit(){this.control=this.injector.get(D.a5),this.checkName(),this.registry.add(this.control,this)}handleClick(e,i,s){e.preventDefault(),!this.disabled&&(this.select(e),s&&i.focus())}select(e){this.disabled||(this.inputViewChild.nativeElement.checked=!0,this.checked=!0,this.onModelChange(this.value),this.registry.select(this),this.onClick.emit(e))}writeValue(e){this.checked=e==this.value,this.inputViewChild&&this.inputViewChild.nativeElement&&(this.inputViewChild.nativeElement.checked=this.checked),this.cd.markForCheck()}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}onInputFocus(e){this.focused=!0,this.onFocus.emit(e)}onInputBlur(e){this.focused=!1,this.onModelTouched(),this.onBlur.emit(e)}onChange(e){this.select(e)}focus(){this.inputViewChild.nativeElement.focus()}ngOnDestroy(){this.registry.remove(this)}checkName(){this.name&&this.formControlName&&this.name!==this.formControlName&&this.throwNameError(),!this.name&&this.formControlName&&(this.name=this.formControlName)}throwNameError(){throw new Error('\n          If you define both a name and a formControlName attribute on your radio button, their values\n          must match. Ex: <p-radioButton formControlName="food" name="food"></p-radioButton>\n        ')}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(t.sBO),t.Y36(t.zs3),t.Y36(gt))},n.\u0275cmp=t.Xpm({type:n,selectors:[["p-radioButton"]],viewQuery:function(e,i){if(1&e&&t.Gf(ut,5),2&e){let s;t.iGM(s=t.CRH())&&(i.inputViewChild=s.first)}},hostAttrs:[1,"p-element"],inputs:{value:"value",formControlName:"formControlName",name:"name",disabled:"disabled",label:"label",tabindex:"tabindex",inputId:"inputId",ariaLabelledBy:"ariaLabelledBy",ariaLabel:"ariaLabel",style:"style",styleClass:"styleClass",labelStyleClass:"labelStyleClass"},outputs:{onClick:"onClick",onFocus:"onFocus",onBlur:"onBlur"},features:[t._Bn([ft])],decls:7,vars:23,consts:[[3,"ngStyle","ngClass"],[1,"p-hidden-accessible"],["type","radio",3,"checked","disabled","change","focus","blur"],["rb",""],[3,"ngClass","click"],[1,"p-radiobutton-icon"],[3,"class","ngClass","click",4,"ngIf"]],template:function(e,i){if(1&e){const s=t.EpF();t.TgZ(0,"div",0)(1,"div",1)(2,"input",2,3),t.NdJ("change",function(d){return i.onChange(d)})("focus",function(d){return i.onInputFocus(d)})("blur",function(d){return i.onInputBlur(d)}),t.qZA()(),t.TgZ(4,"div",4),t.NdJ("click",function(d){t.CHM(s);const _=t.MAs(3);return i.handleClick(d,_,!0)}),t._UZ(5,"span",5),t.qZA()(),t.YNc(6,ht,2,9,"label",6)}2&e&&(t.Tol(i.styleClass),t.Q6J("ngStyle",i.style)("ngClass",t.kEZ(15,dt,i.checked,i.disabled,i.focused)),t.xp6(2),t.Q6J("checked",i.checked)("disabled",i.disabled),t.uIk("id",i.inputId)("name",i.name)("value",i.value)("tabindex",i.tabindex)("aria-checked",i.checked)("aria-label",i.ariaLabel)("aria-labelledby",i.ariaLabelledBy),t.xp6(2),t.Q6J("ngClass",t.kEZ(19,mt,i.checked,i.disabled,i.focused)),t.xp6(2),t.Q6J("ngIf",i.label))},directives:[o.PC,o.mk,o.O5],encapsulation:2,changeDetection:0}),n})(),vt=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[o.ez]]}),n})(),bt=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[o.ez,lt,R.EV,P.n,B.hJ,ct.m,D.u5,st,vt]]}),n})()},62:(L,M,u)=>{u.d(M,{v:()=>S});var o=u(9808),D=u(7587);let S=(()=>{class C{constructor(){}calculerJours(c,p){var g=Math.abs(p-c);return Math.floor(g/864e5)}clear(c){c.clear()}getStatuses(){return[{label:!1,value:"A faire"},{label:!0,value:"R\xe9alis\xe9"}]}getSeverity(c){switch(c){case!1:return"danger";case!0:return"success";default:return"warning"}}getStatusLabel(c){switch(c){case!1:return"A faire";case!0:return"R\xe9alis\xe9";default:return""}}getFormationLabel(c){return"Ing\xe9nieur g\xe9n\xe9raliste parcours international"==c?"OP":"Ing\xe9nieur g\xe9n\xe9raliste par apprentissage ou g\xe9nie des proc\xe9d\xe9s"==c?"L":"Ing\xe9nieur genie des proc\xe9d\xe9s"==c?"IP":"Ing\xe9nieur g\xe9neraliste parcours international et innovation"==c?"I":"Ing\xe9nieur g\xe9nie Informtique"==c?"X":""}genererDates(c,p){let g=this.calculerJours(c,p);console.log("nombre jour:",g);let b=[],T=new Date(c);b.push(new Date(c));for(let I=0;I<g;I++)T.setDate(T.getDate()+1),b.push(new Date(T));return b}formatDate(c){let g=(0,o.p6)(c,"shortTime","fr-FR").split(":");return parseInt(g[0],10)-1+"h"+g[1]}formatDate1(c){const p=new Date(c),I=(p.getFullYear(),p.getMonth(),p.getDate(),p.getHours()),v=p.getMinutes();return p.setHours(I-1),p.setMinutes(v),p}buildDateWithTime(c){const p=new Date;return new Date(`${p.getFullYear()}-${p.getMonth()+1}-${p.getDate()} ${c}`)}buildDate(c,p){let b,T,g=p.split("-"),v=g[0].split("h");c.setHours(parseInt(v[0],10)+1),c.setMinutes(parseInt(v[1],10)),b=c.getTime();let E=g[1].split("h");return c.setHours(parseInt(E[0],10)+1),c.setMinutes(parseInt(E[1],10)),T=c.getTime(),{startDate:b,endDate:T}}}return C.\u0275fac=function(c){return new(c||C)},C.\u0275prov=D.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"}),C})()},7307:(L,M,u)=>{u.d(M,{P:()=>E,n:()=>F});var o=u(7587),D=u(9808),S=u(9783),C=u(845),t=u(5921),c=u(1777),p=u(5730);function g(h,y){if(1&h&&o._UZ(0,"i",8),2&h){const a=o.oxw(2);o.Tol(a.confirmation.icon),o.Q6J("ngClass","p-confirm-popup-icon")}}function b(h,y){if(1&h){const a=o.EpF();o.TgZ(0,"button",9),o.NdJ("click",function(){return o.CHM(a),o.oxw(2).reject()}),o.qZA()}if(2&h){const a=o.oxw(2);o.Tol(a.confirmation.rejectButtonStyleClass||"p-button-text"),o.Q6J("icon",a.confirmation.rejectIcon)("label",a.rejectButtonLabel)("ngClass","p-confirm-popup-reject p-button-sm"),o.uIk("aria-label",a.rejectButtonLabel)}}function T(h,y){if(1&h){const a=o.EpF();o.TgZ(0,"button",9),o.NdJ("click",function(){return o.CHM(a),o.oxw(2).accept()}),o.qZA()}if(2&h){const a=o.oxw(2);o.Tol(a.confirmation.acceptButtonStyleClass),o.Q6J("icon",a.confirmation.acceptIcon)("label",a.acceptButtonLabel)("ngClass","p-confirm-popup-accept p-button-sm"),o.uIk("aria-label",a.acceptButtonLabel)}}const I=function(h,y){return{showTransitionParams:h,hideTransitionParams:y}},v=function(h){return{value:"open",params:h}};function k(h,y){if(1&h){const a=o.EpF();o.TgZ(0,"div",1),o.NdJ("click",function(f){return o.CHM(a),o.oxw().onOverlayClick(f)})("@animation.start",function(f){return o.CHM(a),o.oxw().onAnimationStart(f)})("@animation.done",function(f){return o.CHM(a),o.oxw().onAnimationEnd(f)}),o.TgZ(1,"div",2,3),o.YNc(3,g,1,3,"i",4),o.TgZ(4,"span",5),o._uU(5),o.qZA()(),o.TgZ(6,"div",6),o.YNc(7,b,1,6,"button",7),o.YNc(8,T,1,6,"button",7),o.qZA()()}if(2&h){const a=o.oxw();o.Tol(a.styleClass),o.Q6J("ngClass","p-confirm-popup p-component")("ngStyle",a.style)("@animation",o.VKq(12,v,o.WLB(9,I,a.showTransitionOptions,a.hideTransitionOptions))),o.xp6(3),o.Q6J("ngIf",a.confirmation.icon),o.xp6(2),o.Oqu(a.confirmation.message),o.xp6(2),o.Q6J("ngIf",!1!==a.confirmation.rejectVisible),o.xp6(1),o.Q6J("ngIf",!1!==a.confirmation.acceptVisible)}}let E=(()=>{class h{constructor(a,m,f,x,V,A){this.el=a,this.confirmationService=m,this.renderer=f,this.cd=x,this.config=V,this.overlayService=A,this.defaultFocus="accept",this.showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)",this.hideTransitionOptions=".1s linear",this.autoZIndex=!0,this.baseZIndex=0,this.subscription=this.confirmationService.requireConfirmation$.subscribe(O=>{O?O.key===this.key&&(this.confirmation=O,this.confirmation.accept&&(this.confirmation.acceptEvent=new o.vpe,this.confirmation.acceptEvent.subscribe(this.confirmation.accept)),this.confirmation.reject&&(this.confirmation.rejectEvent=new o.vpe,this.confirmation.rejectEvent.subscribe(this.confirmation.reject)),this.visible=!0):this.hide()})}get visible(){return this._visible}set visible(a){this._visible=a,this.cd.markForCheck()}onAnimationStart(a){if("open"===a.toState){this.container=a.element,document.body.appendChild(this.container),this.align(),this.bindListeners();const m=this.getElementToFocus();m&&m.focus()}}onAnimationEnd(a){"void"===a.toState&&this.onContainerDestroy()}getElementToFocus(){switch(this.defaultFocus){case"accept":return p.p.findSingle(this.container,".p-confirm-popup-accept");case"reject":return p.p.findSingle(this.container,".p-confirm-popup-reject");case"none":return null}}align(){this.autoZIndex&&t.P9.set("overlay",this.container,this.config.zIndex.overlay),p.p.absolutePosition(this.container,this.confirmation.target);const a=p.p.getOffset(this.container),m=p.p.getOffset(this.confirmation.target);let f=0;a.left<m.left&&(f=m.left-a.left),this.container.style.setProperty("--overlayArrowLeft",`${f}px`),a.top<m.top&&p.p.addClass(this.container,"p-confirm-popup-flipped")}hide(){this.visible=!1}accept(){this.confirmation.acceptEvent&&this.confirmation.acceptEvent.emit(),this.hide()}reject(){this.confirmation.rejectEvent&&this.confirmation.rejectEvent.emit(),this.hide()}onOverlayClick(a){this.overlayService.add({originalEvent:a,target:this.el.nativeElement})}bindListeners(){this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindScrollListener()}unbindListeners(){this.unbindDocumentClickListener(),this.unbindDocumentResizeListener(),this.unbindScrollListener()}bindDocumentClickListener(){if(!this.documentClickListener){let a=p.p.isIOS()?"touchstart":"click";const m=this.el?this.el.nativeElement.ownerDocument:document;this.documentClickListener=this.renderer.listen(m,a,f=>{let x=this.confirmation.target;this.container!==f.target&&!this.container.contains(f.target)&&x!==f.target&&!x.contains(f.target)&&this.hide()})}}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)}onWindowResize(){this.hide()}bindDocumentResizeListener(){this.documentResizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.documentResizeListener)}unbindDocumentResizeListener(){this.documentResizeListener&&(window.removeEventListener("resize",this.documentResizeListener),this.documentResizeListener=null)}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new p.V(this.confirmation.target,()=>{this.visible&&this.hide()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}unsubscribeConfirmationSubscriptions(){this.confirmation&&(this.confirmation.acceptEvent&&this.confirmation.acceptEvent.unsubscribe(),this.confirmation.rejectEvent&&this.confirmation.rejectEvent.unsubscribe())}onContainerDestroy(){this.unbindListeners(),this.unsubscribeConfirmationSubscriptions(),this.autoZIndex&&t.P9.clear(this.container),this.confirmation=null,this.container=null}restoreAppend(){this.container&&document.body.removeChild(this.container),this.onContainerDestroy()}get acceptButtonLabel(){return this.confirmation.acceptLabel||this.config.getTranslation(S.ws.ACCEPT)}get rejectButtonLabel(){return this.confirmation.rejectLabel||this.config.getTranslation(S.ws.REJECT)}ngOnDestroy(){this.restoreAppend(),this.subscription&&this.subscription.unsubscribe()}}return h.\u0275fac=function(a){return new(a||h)(o.Y36(o.SBq),o.Y36(S.YP),o.Y36(o.Qsj),o.Y36(o.sBO),o.Y36(S.b4),o.Y36(S.F0))},h.\u0275cmp=o.Xpm({type:h,selectors:[["p-confirmPopup"]],hostAttrs:[1,"p-element"],inputs:{key:"key",defaultFocus:"defaultFocus",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",style:"style",styleClass:"styleClass",visible:"visible"},decls:1,vars:1,consts:[[3,"ngClass","ngStyle","class","click",4,"ngIf"],[3,"ngClass","ngStyle","click"],[1,"p-confirm-popup-content"],["content",""],[3,"ngClass","class",4,"ngIf"],[1,"p-confirm-popup-message"],[1,"p-confirm-popup-footer"],["type","button","pButton","",3,"icon","label","ngClass","class","click",4,"ngIf"],[3,"ngClass"],["type","button","pButton","",3,"icon","label","ngClass","click"]],template:function(a,m){1&a&&o.YNc(0,k,9,14,"div",0),2&a&&o.Q6J("ngIf",m.visible)},directives:[D.O5,D.mk,D.PC,C.Hq],styles:['.p-confirm-popup{position:absolute;margin-top:10px;top:0;left:0}.p-confirm-popup-flipped{margin-top:0;margin-bottom:10px}.p-confirm-popup:after,.p-confirm-popup:before{bottom:100%;left:calc(var(--overlayArrowLeft, 0) + 1.25rem);content:" ";height:0;width:0;position:absolute;pointer-events:none}.p-confirm-popup:after{border-width:8px;margin-left:-8px}.p-confirm-popup:before{border-width:10px;margin-left:-10px}.p-confirm-popup-flipped:after,.p-confirm-popup-flipped:before{bottom:auto;top:100%}.p-confirm-popup.p-confirm-popup-flipped:after{border-bottom-color:transparent}.p-confirm-popup.p-confirm-popup-flipped:before{border-bottom-color:transparent}.p-confirm-popup .p-confirm-popup-content{display:flex;align-items:center}\n'],encapsulation:2,data:{animation:[(0,c.X$)("animation",[(0,c.SB)("void",(0,c.oB)({transform:"scaleY(0.8)",opacity:0})),(0,c.SB)("open",(0,c.oB)({transform:"translateY(0)",opacity:1})),(0,c.eR)("void => open",(0,c.jt)("{{showTransitionParams}}")),(0,c.eR)("open => void",(0,c.jt)("{{hideTransitionParams}}"))])]},changeDetection:0}),h})(),F=(()=>{class h{}return h.\u0275fac=function(a){return new(a||h)},h.\u0275mod=o.oAB({type:h}),h.\u0275inj=o.cJS({imports:[[D.ez,C.hJ]]}),h})()}}]);